import{t as e}from"./message-square-CVnSaj1a.js";import{n as t,r as n,w as r,y as i}from"./index-FG9feFxU.js";var a=r(i(),1),o=n();function s(){let[n,r]=(0,a.useState)([]),[i,s]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{try{r((await t.get(`/employee/dashboard/broadcasts`)).data)}catch(e){console.error(`Error fetching broadcasts`,e)}finally{s(!1)}})()},[]),i?(0,o.jsx)(`div`,{children:`Loading...`}):(0,o.jsxs)(`div`,{className:`max-w-4xl mx-auto space-y-6`,children:[(0,o.jsx)(`h1`,{className:`text-2xl font-bold text-slate-800`,children:`Broadcast Messages`}),(0,o.jsx)(`div`,{className:`space-y-4`,children:n.length===0?(0,o.jsx)(`div`,{className:`py-12 text-center text-slate-500 bg-slate-50 rounded-xl`,children:`No messages received.`}):n.map(t=>(0,o.jsxs)(`div`,{className:`flex gap-4 bg-white p-6 rounded-xl border border-slate-200 shadow-sm`,children:[(0,o.jsx)(`div`,{className:`h-10 w-10 flex-shrink-0 rounded-full bg-blue-100 flex items-center justify-center text-blue-600`,children:(0,o.jsx)(e,{size:20})}),(0,o.jsxs)(`div`,{className:`flex-1`,children:[(0,o.jsxs)(`div`,{className:`flex justify-between items-start mb-1`,children:[(0,o.jsx)(`h3`,{className:`font-semibold text-slate-900`,children:t.senderId?.fullName||`Admin`}),(0,o.jsx)(`span`,{className:`text-xs text-slate-400`,children:new Date(t.createdAt).toLocaleString()})]}),(0,o.jsx)(`div`,{className:`text-xs font-medium text-slate-500 mb-2 uppercase tracking-wide`,children:t.targetAll?`To: All Employees`:`To: Your Group`}),(0,o.jsx)(`div`,{className:`prose prose-sm text-slate-700 bg-slate-50 p-3 rounded-lg border border-slate-100`,children:t.content}),t.attachments&&t.attachments.length>0&&(0,o.jsxs)(`div`,{className:`mt-2 text-xs text-blue-600`,children:[t.attachments.length,` Attachment(s)`]})]})]},t._id))})]})}export{s as default};