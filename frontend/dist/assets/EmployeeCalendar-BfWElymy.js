import{t as e}from"./arrow-left-CDfWyn3U.js";import{t}from"./calendar-BE1FZPaA.js";import{t as n}from"./chevron-left-BGwdk1J0.js";import{t as r}from"./chevron-right-CMb6ihDi.js";import{t as i}from"./clock-p49MgRWf.js";import{c as a,n as o,r as s,w as c,y as l}from"./index-FG9feFxU.js";var u=a(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),d=c(l(),1),f=s();function p(){let[a,s]=(0,d.useState)([]),[c,l]=(0,d.useState)(!0),[p,m]=(0,d.useState)(new Date),[h,g]=(0,d.useState)(null),_=(0,d.useRef)(null);(0,d.useEffect)(()=>{v()},[]);let v=async()=>{try{s((await o.get(`/employee/dashboard/calendar`)).data)}catch(e){console.error(`Error fetching calendar`,e)}finally{l(!1)}},y=e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),b=e=>new Date(e.getFullYear(),e.getMonth(),1).getDay();return c?(0,f.jsx)(`div`,{className:`p-8 text-center text-slate-500`,children:`Loading calendar...`}):(0,f.jsxs)(`div`,{className:`space-y-6`,children:[(0,f.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-start md:items-center gap-4`,children:[(0,f.jsxs)(`div`,{children:[(0,f.jsxs)(`h1`,{className:`text-2xl font-bold text-slate-800 flex items-center gap-2`,children:[(0,f.jsx)(t,{className:`text-blue-600`}),`Calendar & Reminders`]}),(0,f.jsx)(`p`,{className:`text-slate-500 text-sm`,children:`Schedule meetings, tasks, and deadlines.`})]}),(0,f.jsxs)(`div`,{className:`flex flex-col sm:flex-row items-center gap-4 w-full md:w-auto`,children:[(0,f.jsxs)(`div`,{className:`flex items-center gap-2 md:hidden w-full justify-between sm:w-auto sm:justify-start`,children:[(0,f.jsx)(`span`,{className:`text-xs font-semibold text-slate-500`,children:`View:`}),(0,f.jsxs)(`div`,{className:`flex bg-white rounded-lg border border-slate-200 shadow-sm`,children:[(0,f.jsx)(`button`,{onClick:()=>{_.current&&_.current.scrollBy({left:-200,behavior:`smooth`})},className:`p-2 hover:bg-slate-50 text-slate-600 border-r border-slate-200 rounded-l-lg`,children:(0,f.jsx)(e,{size:18})}),(0,f.jsx)(`button`,{onClick:()=>{_.current&&_.current.scrollBy({left:200,behavior:`smooth`})},className:`p-2 hover:bg-slate-50 text-slate-600 rounded-r-lg`,children:(0,f.jsx)(u,{size:18})})]})]}),(0,f.jsxs)(`div`,{className:`flex items-center bg-white border border-slate-200 rounded-lg shadow-sm w-full md:w-auto justify-between md:justify-start`,children:[(0,f.jsx)(`button`,{onClick:()=>{m(new Date(p.getFullYear(),p.getMonth()-1,1))},className:`p-2 hover:bg-slate-50 text-slate-600 rounded-l-lg border-r border-slate-200`,children:(0,f.jsx)(n,{size:20})}),(0,f.jsxs)(`span`,{className:`px-4 py-2 font-semibold text-slate-700 min-w-[140px] text-center flex-1 md:flex-none`,children:[[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`][p.getMonth()],` `,p.getFullYear()]}),(0,f.jsx)(`button`,{onClick:()=>{m(new Date(p.getFullYear(),p.getMonth()+1,1))},className:`p-2 hover:bg-slate-50 text-slate-600 rounded-r-lg border-l border-slate-200`,children:(0,f.jsx)(r,{size:20})})]})]})]}),(0,f.jsx)(`div`,{className:`bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full`,children:(0,f.jsx)(`div`,{className:`overflow-x-auto [&::-webkit-scrollbar]:hidden`,ref:_,children:(0,f.jsxs)(`div`,{className:`min-w-[800px]`,children:[(0,f.jsx)(`div`,{className:`grid grid-cols-7 bg-slate-50 border-b border-slate-200`,children:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`].map(e=>(0,f.jsx)(`div`,{className:`py-3 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider`,children:e},e))}),(0,f.jsx)(`div`,{className:`grid grid-cols-7 bg-slate-200 gap-px border-l border-t border-slate-200`,children:(()=>{let e=y(p),t=b(p),n=[];for(let e=0;e<t;e++)n.push((0,f.jsx)(`div`,{className:`h-32 bg-slate-50 border border-slate-100`},`empty-${e}`));for(let t=1;t<=e;t++){let e=new Date(p.getFullYear(),p.getMonth(),t).toDateString(),r=a.filter(t=>new Date(t.start).toDateString()===e),i=new Date().toDateString()===e;n.push((0,f.jsxs)(`div`,{className:`h-32 border border-slate-100 p-2 overflow-y-auto hover:bg-slate-50 transition-colors ${i?`bg-blue-50/30`:`bg-white`}`,children:[(0,f.jsx)(`div`,{className:`flex justify-between items-start mb-1`,children:(0,f.jsx)(`span`,{className:`text-sm font-semibold rounded-full w-7 h-7 flex items-center justify-center ${i?`bg-blue-600 text-white`:`text-slate-700`}`,children:t})}),(0,f.jsx)(`div`,{className:`space-y-1`,children:r.map(e=>(0,f.jsxs)(`div`,{onClick:t=>{t.stopPropagation(),g(e)},className:`text-xs p-1.5 rounded border border-l-2 mb-1 cursor-pointer truncate hover:opacity-80 transition-opacity
                                    ${e.type===`Meeting`?`bg-purple-50 border-purple-200 border-l-purple-500 text-purple-700`:e.type===`Holiday`?`bg-sky-50 border-sky-200 border-l-sky-500 text-sky-700`:`bg-blue-50 border-blue-200 border-l-blue-500 text-blue-700`}`,title:`Click to view details`,children:[(0,f.jsx)(`div`,{className:`font-semibold truncate`,children:e.title}),e.start&&(0,f.jsx)(`div`,{className:`text-[10px] opacity-80`,children:new Date(e.start).toLocaleTimeString([],{hour:`2-digit`,minute:`2-digit`})})]},e._id))})]},t))}return n})()})]})})}),h&&(0,f.jsx)(`div`,{className:`fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-in fade-in duration-200`,children:(0,f.jsxs)(`div`,{className:`bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden`,children:[(0,f.jsxs)(`div`,{className:`p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50`,children:[(0,f.jsxs)(`h3`,{className:`font-bold text-lg text-slate-800 flex items-center gap-2`,children:[(0,f.jsx)(t,{size:18,className:`text-blue-600`}),`Event Details`]}),(0,f.jsx)(`button`,{onClick:()=>g(null),className:`text-slate-400 hover:text-slate-600 p-1 hover:bg-slate-200 rounded-full transition-colors`,children:(0,f.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,f.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,f.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]}),(0,f.jsxs)(`div`,{className:`p-6 space-y-4`,children:[(0,f.jsxs)(`div`,{children:[(0,f.jsx)(`h2`,{className:`text-xl font-bold text-slate-900 mb-1`,children:h.title}),(0,f.jsx)(`span`,{className:`text-xs font-semibold px-2 py-1 rounded-full 
                                    ${h.type===`Meeting`?`bg-purple-100 text-purple-700`:h.type===`Holiday`?`bg-sky-100 text-sky-700`:`bg-blue-100 text-blue-700`}`,children:h.type})]}),(0,f.jsxs)(`div`,{className:`flex items-center gap-3 text-slate-600 text-sm bg-slate-50 p-3 rounded-lg border border-slate-100`,children:[(0,f.jsx)(i,{size:18,className:`text-slate-400 shrink-0`}),(0,f.jsxs)(`div`,{children:[(0,f.jsx)(`div`,{className:`font-medium text-slate-900`,children:new Date(h.start).toLocaleDateString(void 0,{weekday:`long`,year:`numeric`,month:`long`,day:`numeric`})}),(0,f.jsxs)(`div`,{className:`text-slate-500`,children:[new Date(h.start).toLocaleTimeString([],{hour:`2-digit`,minute:`2-digit`}),` -`,new Date(h.end).toLocaleTimeString([],{hour:`2-digit`,minute:`2-digit`})]})]})]}),(0,f.jsxs)(`div`,{children:[(0,f.jsx)(`h4`,{className:`text-sm font-semibold text-slate-700 mb-2`,children:`Description`}),(0,f.jsx)(`div`,{className:`text-sm text-slate-600 bg-slate-50 p-4 rounded-lg border border-slate-100 leading-relaxed whitespace-pre-wrap max-h-60 overflow-y-auto`,children:h.description||`No description provided.`})]})]}),(0,f.jsx)(`div`,{className:`p-4 bg-slate-50 border-t border-slate-100 flex justify-end`,children:(0,f.jsx)(`button`,{onClick:()=>g(null),className:`px-4 py-2 bg-white border border-slate-300 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-50 transition-colors`,children:`Close`})})]})})]})}export{p as default};