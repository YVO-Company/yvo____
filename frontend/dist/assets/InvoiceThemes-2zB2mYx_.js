import{t as e}from"./check-BjCImq_k.js";import{t}from"./dollar-sign-Dpwxw7ZW.js";import{t as n}from"./file-text-X3F31LPe.js";import{t as r}from"./pen-dMJlaISN.js";import{t as i}from"./plus-CEMkcid2.js";import{t as a}from"./settings-C_W7aofM.js";import{t as o}from"./trash-2-Eo-Zwxxt.js";import{C as s,S as c,b as l,c as u,i as d,n as f,r as p,u as m,v as h,w as g,x as _,y as v}from"./index-FG9feFxU.js";import{n as y}from"./InvoiceRenderer-DjfAepaN.js";var b=u(`grid-3x3`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}],[`path`,{d:`M3 9h18`,key:`1pudct`}],[`path`,{d:`M3 15h18`,key:`5xshup`}],[`path`,{d:`M9 3v18`,key:`fh3hqa`}],[`path`,{d:`M15 3v18`,key:`14nvp0`}]]),x=u(`hash`,[[`line`,{x1:`4`,x2:`20`,y1:`9`,y2:`9`,key:`4lhtct`}],[`line`,{x1:`4`,x2:`20`,y1:`15`,y2:`15`,key:`vyu0kd`}],[`line`,{x1:`10`,x2:`8`,y1:`3`,y2:`21`,key:`1ggp8o`}],[`line`,{x1:`16`,x2:`14`,y1:`3`,y2:`21`,key:`weycgp`}]]),S=u(`image`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,ry:`2`,key:`1m3agn`}],[`circle`,{cx:`9`,cy:`9`,r:`2`,key:`af1f0g`}],[`path`,{d:`m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21`,key:`1xmnt7`}]]),C=u(`text-align-start`,[[`path`,{d:`M21 5H3`,key:`1fi0y6`}],[`path`,{d:`M15 12H3`,key:`6jk70r`}],[`path`,{d:`M17 19H3`,key:`z6ezky`}]]),w=u(`type`,[[`path`,{d:`M12 4v16`,key:`1654pz`}],[`path`,{d:`M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2`,key:`e0r10z`}],[`path`,{d:`M9 20h6`,key:`s66wpe`}]]),T=l(((e,t)=>{t.exports=`SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED`})),E=l(((e,t)=>{var n=T();function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name=`Invariant Violation`,s}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return a.PropTypes=a,a}})),D=l(((e,t)=>{t.exports=E()()})),O=c({clsx:()=>A,default:()=>j});function k(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=k(e[t]))&&(r&&(r+=` `),r+=n);else for(t in e)e[t]&&(r&&(r+=` `),r+=t);return r}function A(){for(var e,t,n=0,r=``;n<arguments.length;)(e=arguments[n++])&&(t=k(e))&&(r&&(r+=` `),r+=t);return r}var j,M=_((()=>{j=A})),N=l((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.dontSetMe=a,e.findInArray=t,e.int=i,e.isFunction=n,e.isNum=r;function t(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function n(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Function]`}function r(e){return typeof e==`number`&&!isNaN(e)}function i(e){return parseInt(e,10)}function a(e,t,n){if(e[t])return Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}})),P=l((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.browserPrefixToKey=r,e.browserPrefixToStyle=i,e.default=void 0,e.getPrefix=n;var t=[`Moz`,`Webkit`,`O`,`ms`];function n(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:`transform`;if(typeof window>`u`)return``;let i=(e=window.document)==null||(e=e.documentElement)==null?void 0:e.style;if(!i||n in i)return``;for(let e=0;e<t.length;e++)if(r(n,t[e])in i)return t[e];return``}function r(e,t){return t?`${t}${a(e)}`:e}function i(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function a(e){let t=``,n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]===`-`?n=!0:t+=e[r];return t}e.default=n()})),F=l((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.addClassName=S,e.addEvent=c,e.addUserSelectStyles=b,e.createCSSTransform=h,e.createSVGTransform=g,e.getTouch=v,e.getTouchIdentifier=y,e.getTranslation=_,e.innerHeight=f,e.innerWidth=p,e.matchesSelector=o,e.matchesSelectorAndParentsTo=s,e.offsetXYFromParent=m,e.outerHeight=u,e.outerWidth=d,e.removeClassName=C,e.removeEvent=l,e.removeUserSelectStyles=x;var t=N(),n=i(P());function r(e){if(typeof WeakMap!=`function`)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=`object`&&typeof e!=`function`)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!==`default`&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}var a=``;function o(e,n){return a||=(0,t.findInArray)([`matches`,`webkitMatchesSelector`,`mozMatchesSelector`,`msMatchesSelector`,`oMatchesSelector`],function(n){return(0,t.isFunction)(e[n])}),(0,t.isFunction)(e[a])?e[a](n):!1}function s(e,t,n){let r=e;do{if(o(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function c(e,t,n,r){if(!e)return;let i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent(`on`+t,n):e[`on`+t]=n}function l(e,t,n,r){if(!e)return;let i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent(`on`+t,n):e[`on`+t]=null}function u(e){let n=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,t.int)(r.borderTopWidth),n+=(0,t.int)(r.borderBottomWidth),n}function d(e){let n=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,t.int)(r.borderLeftWidth),n+=(0,t.int)(r.borderRightWidth),n}function f(e){let n=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,t.int)(r.paddingTop),n-=(0,t.int)(r.paddingBottom),n}function p(e){let n=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,t.int)(r.paddingLeft),n-=(0,t.int)(r.paddingRight),n}function m(e,t,n){let r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}}function h(e,t){let r=_(e,t,`px`);return{[(0,n.browserPrefixToKey)(`transform`,n.default)]:r}}function g(e,t){return _(e,t,``)}function _(e,t,n){let{x:r,y:i}=e,a=`translate(${r}${n},${i}${n})`;return t&&(a=`translate(${`${typeof t.x==`string`?t.x:t.x+n}`}, ${`${typeof t.y==`string`?t.y:t.y+n}`})`+a),a}function v(e,n){return e.targetTouches&&(0,t.findInArray)(e.targetTouches,e=>n===e.identifier)||e.changedTouches&&(0,t.findInArray)(e.changedTouches,e=>n===e.identifier)}function y(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function b(e){if(!e)return;let t=e.getElementById(`react-draggable-style-el`);t||(t=e.createElement(`style`),t.type=`text/css`,t.id=`react-draggable-style-el`,t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName(`head`)[0].appendChild(t)),e.body&&S(e.body,`react-draggable-transparent-selection`)}function x(e){if(e)try{if(e.body&&C(e.body,`react-draggable-transparent-selection`),e.selection)e.selection.empty();else{let t=(e.defaultView||window).getSelection();t&&t.type!==`Caret`&&t.removeAllRanges()}}catch{}}function S(e,t){e.classList?e.classList.add(t):e.className.match(RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function C(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp(`(?:^|\\s)${t}(?!\\S)`,`g`),``)}})),ee=l((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.canDragX=a,e.canDragY=o,e.createCoreData=c,e.createDraggableData=l,e.getBoundPosition=r,e.getControlPosition=s,e.snapToGrid=i;var t=N(),n=F();function r(e,r,i){if(!e.props.bounds)return[r,i];let{bounds:a}=e.props;a=typeof a==`string`?a:u(a);let o=d(e);if(typeof a==`string`){let{ownerDocument:e}=o,r=e.defaultView,i;if(i=a===`parent`?o.parentNode:e.querySelector(a),!(i instanceof r.HTMLElement))throw Error(`Bounds selector "`+a+`" could not find an element.`);let s=i,c=r.getComputedStyle(o),l=r.getComputedStyle(s);a={left:-o.offsetLeft+(0,t.int)(l.paddingLeft)+(0,t.int)(c.marginLeft),top:-o.offsetTop+(0,t.int)(l.paddingTop)+(0,t.int)(c.marginTop),right:(0,n.innerWidth)(s)-(0,n.outerWidth)(o)-o.offsetLeft+(0,t.int)(l.paddingRight)-(0,t.int)(c.marginRight),bottom:(0,n.innerHeight)(s)-(0,n.outerHeight)(o)-o.offsetTop+(0,t.int)(l.paddingBottom)-(0,t.int)(c.marginBottom)}}return(0,t.isNum)(a.right)&&(r=Math.min(r,a.right)),(0,t.isNum)(a.bottom)&&(i=Math.min(i,a.bottom)),(0,t.isNum)(a.left)&&(r=Math.max(r,a.left)),(0,t.isNum)(a.top)&&(i=Math.max(i,a.top)),[r,i]}function i(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function a(e){return e.props.axis===`both`||e.props.axis===`x`}function o(e){return e.props.axis===`both`||e.props.axis===`y`}function s(e,t,r){let i=typeof t==`number`?(0,n.getTouch)(e,t):null;if(typeof t==`number`&&!i)return null;let a=d(r),o=r.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,n.offsetXYFromParent)(i||e,o,r.props.scale)}function c(e,n,r){let i=!(0,t.isNum)(e.lastX),a=d(e);return i?{node:a,deltaX:0,deltaY:0,lastX:n,lastY:r,x:n,y:r}:{node:a,deltaX:n-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:n,y:r}}function l(e,t){let n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function u(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function d(e){let t=e.findDOMNode();if(!t)throw Error(`<DraggableCore>: Unmounted during event!`);return t}})),I=l((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.default=t;function t(){}})),te=l((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.default=void 0;var t=u(v()),n=c(D()),r=c(h()),i=F(),a=ee(),o=N(),s=c(I());function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if(typeof WeakMap!=`function`)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=`object`&&typeof e!=`function`)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!==`default`&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function d(e,t,n){return t=f(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=p(e,`string`);return typeof t==`symbol`?t:String(t)}function p(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var m={touch:{start:`touchstart`,move:`touchmove`,stop:`touchend`},mouse:{start:`mousedown`,move:`mousemove`,stop:`mouseup`}},g=m.mouse,_=class extends t.Component{constructor(){super(...arguments),d(this,`dragging`,!1),d(this,`lastX`,NaN),d(this,`lastY`,NaN),d(this,`touchIdentifier`,null),d(this,`mounted`,!1),d(this,`handleDragStart`,e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button==`number`&&e.button!==0)return!1;let t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw Error(`<DraggableCore> not mounted on DragStart!`);let{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,i.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,i.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;e.type===`touchstart`&&e.preventDefault();let r=(0,i.getTouchIdentifier)(e);this.touchIdentifier=r;let o=(0,a.getControlPosition)(e,r,this);if(o==null)return;let{x:c,y:l}=o,u=(0,a.createCoreData)(this,c,l);(0,s.default)(`DraggableCore: handleDragStart: %j`,u),(0,s.default)(`calling`,this.props.onStart),!(this.props.onStart(e,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(n),this.dragging=!0,this.lastX=c,this.lastY=l,(0,i.addEvent)(n,g.move,this.handleDrag),(0,i.addEvent)(n,g.stop,this.handleDragStop))}),d(this,`handleDrag`,e=>{let t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,a.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}let i=(0,a.createCoreData)(this,n,r);if((0,s.default)(`DraggableCore: handleDrag: %j`,i),this.props.onDrag(e,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent(`mouseup`))}catch{let e=document.createEvent(`MouseEvents`);e.initMouseEvent(`mouseup`,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}return}this.lastX=n,this.lastY=r}),d(this,`handleDragStop`,e=>{if(!this.dragging)return;let t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,a.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}let o=(0,a.createCoreData)(this,n,r);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;let c=this.findDOMNode();c&&this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(c.ownerDocument),(0,s.default)(`DraggableCore: handleDragStop: %j`,o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,c&&((0,s.default)(`DraggableCore: Removing handlers`),(0,i.removeEvent)(c.ownerDocument,g.move,this.handleDrag),(0,i.removeEvent)(c.ownerDocument,g.stop,this.handleDragStop))}),d(this,`onMouseDown`,e=>(g=m.mouse,this.handleDragStart(e))),d(this,`onMouseUp`,e=>(g=m.mouse,this.handleDragStop(e))),d(this,`onTouchStart`,e=>(g=m.touch,this.handleDragStart(e))),d(this,`onTouchEnd`,e=>(g=m.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;let e=this.findDOMNode();e&&(0,i.addEvent)(e,m.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let e=this.findDOMNode();if(e){let{ownerDocument:t}=e;(0,i.removeEvent)(t,m.mouse.move,this.handleDrag),(0,i.removeEvent)(t,m.touch.move,this.handleDrag),(0,i.removeEvent)(t,m.mouse.stop,this.handleDragStop),(0,i.removeEvent)(t,m.touch.stop,this.handleDragStop),(0,i.removeEvent)(e,m.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return(e=this.props)!=null&&e.nodeRef?(t=this.props)==null||(t=t.nodeRef)==null?void 0:t.current:r.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};e.default=_,d(_,`displayName`,`DraggableCore`),d(_,`propTypes`,{allowAnyClick:n.default.bool,children:n.default.node.isRequired,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw Error(`Draggable's offsetParent must be a DOM Node.`)},grid:n.default.arrayOf(n.default.number),handle:n.default.string,cancel:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),d(_,`defaultProps`,{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})})),ne=l((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),Object.defineProperty(e,`DraggableCore`,{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var t=p(v()),n=d(D()),r=d(h()),i=d((M(),s(O))),a=F(),o=ee(),c=N(),l=d(te()),u=d(I());function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(typeof WeakMap!=`function`)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=`object`&&typeof e!=`function`)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!==`default`&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function g(e,t,n){return t=_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=y(e,`string`);return typeof t==`symbol`?t:String(t)}function y(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var b=class extends t.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return n&&(!r||n.x!==r.x||n.y!==r.y)?((0,u.default)(`Draggable: getDerivedStateFromProps %j`,{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}}):null}constructor(e){super(e),g(this,`onDragStart`,(e,t)=>{if((0,u.default)(`Draggable: onDragStart: %j`,t),this.props.onStart(e,(0,o.createDraggableData)(this,t))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,`onDrag`,(e,t)=>{if(!this.state.dragging)return!1;(0,u.default)(`Draggable: onDrag: %j`,t);let n=(0,o.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){let{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;let[i,a]=(0,o.getBoundPosition)(this,r.x,r.y);r.x=i,r.y=a,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(this.props.onDrag(e,n)===!1)return!1;this.setState(r)}),g(this,`onDragStop`,(e,t)=>{if(!this.state.dragging||this.props.onStop(e,(0,o.createDraggableData)(this,t))===!1)return!1;(0,u.default)(`Draggable: onDragStop: %j`,t);let n={dragging:!1,slackX:0,slackY:0};if(this.props.position){let{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},e.position&&!(e.onDrag||e.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){window.SVGElement!==void 0&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e;return((e=this.props)==null||(e=e.nodeRef)==null?void 0:e.current)??r.default.findDOMNode(this)}render(){let{axis:e,bounds:n,children:r,defaultPosition:s,defaultClassName:c,defaultClassNameDragging:u,defaultClassNameDragged:d,position:f,positionOffset:p,scale:h,...g}=this.props,_={},v=null,y=!f||this.state.dragging,b=f||s,x={x:(0,o.canDragX)(this)&&y?this.state.x:b.x,y:(0,o.canDragY)(this)&&y?this.state.y:b.y};this.state.isElementSVG?v=(0,a.createSVGTransform)(x,p):_=(0,a.createCSSTransform)(x,p);let S=(0,i.default)(r.props.className||``,c,{[u]:this.state.dragging,[d]:this.state.dragged});return t.createElement(l.default,m({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(r),{className:S,style:{...r.props.style,..._},transform:v}))}};e.default=b,g(b,`displayName`,`Draggable`),g(b,`propTypes`,{...l.default.propTypes,axis:n.default.oneOf([`both`,`x`,`y`,`none`]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),g(b,`defaultProps`,{...l.default.defaultProps,axis:`both`,bounds:!1,defaultClassName:`react-draggable`,defaultClassNameDragging:`react-draggable-dragging`,defaultClassNameDragged:`react-draggable-dragged`,defaultPosition:{x:0,y:0},scale:1})})),re=g(l(((e,t)=>{var{default:n,DraggableCore:r}=ne();t.exports=n,t.exports.default=n,t.exports.DraggableCore=r}))()),ie=h(),L=p(),R=v(),z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},z.apply(this,arguments)},B={width:`100%`,height:`10px`,top:`0px`,left:`0px`,cursor:`row-resize`},V={width:`10px`,height:`100%`,top:`0px`,left:`0px`,cursor:`col-resize`},H={width:`20px`,height:`20px`,position:`absolute`,zIndex:1},ae={top:z(z({},B),{top:`-5px`}),right:z(z({},V),{left:void 0,right:`-5px`}),bottom:z(z({},B),{top:void 0,bottom:`-5px`}),left:z(z({},V),{left:`-5px`}),topRight:z(z({},H),{right:`-10px`,top:`-10px`,cursor:`ne-resize`}),bottomRight:z(z({},H),{right:`-10px`,bottom:`-10px`,cursor:`se-resize`}),bottomLeft:z(z({},H),{left:`-10px`,bottom:`-10px`,cursor:`sw-resize`}),topLeft:z(z({},H),{left:`-10px`,top:`-10px`,cursor:`nw-resize`})},oe=(0,R.memo)(function(e){var t=e.onResizeStart,n=e.direction,r=e.children,i=e.replaceStyles,a=e.className,o=(0,R.useCallback)(function(e){t(e,n)},[t,n]),s=(0,R.useCallback)(function(e){t(e,n)},[t,n]),c=(0,R.useMemo)(function(){return z(z({position:`absolute`,userSelect:`none`},ae[n]),i??{})},[i,n]);return(0,L.jsx)(`div`,{className:a||void 0,style:c,onMouseDown:o,onTouchStart:s,children:r})}),se=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if(typeof n!=`function`&&n!==null)throw TypeError(`Class extends value `+String(n)+` is not a constructor or null`);e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),U=function(){return U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},U.apply(this,arguments)},ce={width:`auto`,height:`auto`},W=function(e,t,n){return Math.max(Math.min(e,n),t)},G=function(e,t,n){var r=Math.round(e/t);return r*t+n*(r-1)},K=function(e,t){return new RegExp(e,`i`).test(t)},q=function(e){return!!(e.touches&&e.touches.length)},le=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},J=function(e,t,n){n===void 0&&(n=0);var r=t.reduce(function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n},0),i=Math.abs(t[r]-e);return n===0||i<n?t[r]:e},Y=function(e){return e=e.toString(),e===`auto`||e.endsWith(`px`)||e.endsWith(`%`)||e.endsWith(`vh`)||e.endsWith(`vw`)||e.endsWith(`vmax`)||e.endsWith(`vmin`)?e:`${e}px`},X=function(e,t,n,r){if(e&&typeof e==`string`){if(e.endsWith(`px`))return Number(e.replace(`px`,``));if(e.endsWith(`%`)){var i=Number(e.replace(`%`,``))/100;return t*i}if(e.endsWith(`vw`)){var i=Number(e.replace(`vw`,``))/100;return n*i}if(e.endsWith(`vh`)){var i=Number(e.replace(`vh`,``))/100;return r*i}}return e},ue=function(e,t,n,r,i,a,o){return r=X(r,e.width,t,n),i=X(i,e.height,t,n),a=X(a,e.width,t,n),o=X(o,e.height,t,n),{maxWidth:r===void 0?void 0:Number(r),maxHeight:i===void 0?void 0:Number(i),minWidth:a===void 0?void 0:Number(a),minHeight:o===void 0?void 0:Number(o)}},de=function(e){return Array.isArray(e)?e:[e,e]},fe=`as.ref.style.className.grid.gridGap.snap.bounds.boundsByDirection.size.defaultSize.minWidth.minHeight.maxWidth.maxHeight.lockAspectRatio.lockAspectRatioExtraWidth.lockAspectRatioExtraHeight.enable.handleStyles.handleClasses.handleWrapperStyle.handleWrapperClass.children.onResizeStart.onResize.onResizeStop.handleComponent.scale.resizeRatio.snapGap`.split(`.`),pe=`__resizable_base__`,me=function(e){se(t,e);function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableRight=0,n.resizableTop=0,n.resizableBottom=0,n.targetLeft=0,n.targetTop=0,n.delta={width:0,height:0},n.appendBase=function(){if(!n.resizable||!n.window)return null;var e=n.parentNode;if(!e)return null;var t=n.window.document.createElement(`div`);return t.style.width=`100%`,t.style.height=`100%`,t.style.position=`absolute`,t.style.transform=`scale(0, 0)`,t.style.left=`0`,t.style.flex=`0 0 100%`,t.classList?t.classList.add(pe):t.className+=pe,e.appendChild(t),t},n.removeBase=function(e){var t=n.parentNode;t&&t.removeChild(e)},n.state={isResizing:!1,width:n.propsSize?.width??`auto`,height:n.propsSize?.height??`auto`,direction:`right`,original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:`100%`,width:`100%`,backgroundColor:`rgba(0,0,0,0)`,cursor:`auto`,opacity:0,position:`fixed`,zIndex:9999,top:`0`,left:`0`,bottom:`0`,right:`0`},flexBasis:void 0},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return Object.defineProperty(t.prototype,`parentNode`,{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,`window`,{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,`propsSize`,{get:function(){return this.props.size||this.props.defaultSize||ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,`size`,{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;i!==`relative`&&(this.resizable.style.position=`relative`),e=this.resizable.style.width===`auto`?n:this.resizable.offsetWidth,t=this.resizable.style.height===`auto`?r:this.resizable.offsetHeight,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,`sizeStyle`,{get:function(){var e=this,t=this.props.size,n=function(t){if(e.state[t]===void 0||e.state[t]===`auto`)return`auto`;if(e.propsSize&&e.propsSize[t]&&e.propsSize[t]?.toString().endsWith(`%`)){if(e.state[t].toString().endsWith(`%`))return e.state[t].toString();var n=e.getParentSize();return`${Number(e.state[t].toString().replace(`px`,``))/n[t]*100}%`}return Y(e.state[t])};return{width:t&&t.width!==void 0&&!this.state.isResizing?Y(t.width):n(`width`),height:t&&t.height!==void 0&&!this.state.isResizing?Y(t.height):n(`height`)}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;n!==`wrap`&&(t=!0,this.parentNode.style.flexWrap=`wrap`),e.style.position=`relative`,e.style.minWidth=`100%`,e.style.minHeight=`100%`;var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener(`mouseup`,this.onMouseUp),this.window.addEventListener(`mousemove`,this.onMouseMove),this.window.addEventListener(`mouseleave`,this.onMouseUp),this.window.addEventListener(`touchmove`,this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener(`touchend`,this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener(`mouseup`,this.onMouseUp),this.window.removeEventListener(`mousemove`,this.onMouseMove),this.window.removeEventListener(`mouseleave`,this.onMouseUp),this.window.removeEventListener(`touchmove`,this.onMouseMove,!0),this.window.removeEventListener(`touchend`,this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:e.flexBasis===`auto`?void 0:e.flexBasis})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return this.state[t]===`auto`&&this.state.original[t]===e&&(n===void 0||n===`auto`)?`auto`:e},t.prototype.calculateNewMaxFromBoundary=function(e,t){var n=this.props.boundsByDirection,r=this.state.direction,i=n&&K(`left`,r),a=n&&K(`top`,r),o,s;if(this.props.bounds===`parent`){var c=this.parentNode;c&&(o=i?this.resizableRight-this.parentLeft:c.offsetWidth+(this.parentLeft-this.resizableLeft),s=a?this.resizableBottom-this.parentTop:c.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds===`window`?this.window&&(o=i?this.resizableRight:this.window.innerWidth-this.resizableLeft,s=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(o=i?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),s=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return o&&Number.isFinite(o)&&(e=e&&e<o?e:o),s&&Number.isFinite(s)&&(t=t&&t<s?t:s),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=de(this.props.resizeRatio||1),i=r[0],a=r[1],o=this.state,s=o.direction,c=o.original,l=this.props,u=l.lockAspectRatio,d=l.lockAspectRatioExtraHeight,f=l.lockAspectRatioExtraWidth,p=c.width,m=c.height,h=d||0,g=f||0;return K(`right`,s)&&(p=c.width+(e-c.x)*i/n,u&&(m=(p-g)/this.ratio+h)),K(`left`,s)&&(p=c.width-(e-c.x)*i/n,u&&(m=(p-g)/this.ratio+h)),K(`bottom`,s)&&(m=c.height+(t-c.y)*a/n,u&&(p=(m-h)*this.ratio+g)),K(`top`,s)&&(m=c.height-(t-c.y)*a/n,u&&(p=(m-h)*this.ratio+g)),{newWidth:p,newHeight:m}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,a=i.lockAspectRatio,o=i.lockAspectRatioExtraHeight,s=i.lockAspectRatioExtraWidth,c=r.width===void 0?10:r.width,l=n.width===void 0||n.width<0?e:n.width,u=r.height===void 0?10:r.height,d=n.height===void 0||n.height<0?t:n.height,f=o||0,p=s||0;if(a){var m=(u-f)*this.ratio+p,h=(d-f)*this.ratio+p,g=(c-p)/this.ratio+f,_=(l-p)/this.ratio+f,v=Math.max(c,m),y=Math.min(l,h),b=Math.max(u,g),x=Math.min(d,_);e=W(e,v,y),t=W(t,b,x)}else e=W(e,c,l),t=W(t,u,d);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){var e=1/(this.props.scale||1);if(this.props.bounds===`parent`){var t=this.parentNode;if(t){var n=t.getBoundingClientRect();this.parentLeft=n.left*e,this.parentTop=n.top*e}}if(this.props.bounds&&typeof this.props.bounds!=`string`){var r=this.props.bounds.getBoundingClientRect();this.targetLeft=r.left*e,this.targetTop=r.top*e}if(this.resizable){var i=this.resizable.getBoundingClientRect(),a=i.left,o=i.top,s=i.right,c=i.bottom;this.resizableLeft=a*e,this.resizableRight=s*e,this.resizableTop=o*e,this.resizableBottom=c*e}},t.prototype.onResizeStart=function(e,t){if(!(!this.resizable||!this.window)){var n=0,r=0;if(e.nativeEvent&&le(e.nativeEvent)?(n=e.nativeEvent.clientX,r=e.nativeEvent.clientY):e.nativeEvent&&q(e.nativeEvent)&&(n=e.nativeEvent.touches[0].clientX,r=e.nativeEvent.touches[0].clientY),!(this.props.onResizeStart&&this.resizable&&this.props.onResizeStart(e,t,this.resizable)===!1)){this.props.size&&(this.props.size.height!==void 0&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),this.props.size.width!==void 0&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio==`number`?this.props.lockAspectRatio:this.size.width/this.size.height;var i,a=this.window.getComputedStyle(this.resizable);if(a.flexBasis!==`auto`){var o=this.parentNode;o&&(this.flexDir=this.window.getComputedStyle(o).flexDirection.startsWith(`row`)?`row`:`column`,i=a.flexBasis)}this.setBoundingClientRect(),this.bindEvents();var s={original:{x:n,y:r,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:U(U({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||`auto`}),direction:t,flexBasis:i};this.setState(s)}}},t.prototype.onMouseMove=function(e){var t=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&q(e))try{e.preventDefault(),e.stopPropagation()}catch{}var n=this.props,r=n.maxWidth,i=n.maxHeight,a=n.minWidth,o=n.minHeight,s=q(e)?e.touches[0].clientX:e.clientX,c=q(e)?e.touches[0].clientY:e.clientY,l=this.state,u=l.direction,d=l.original,f=l.width,p=l.height,m=this.getParentSize(),h=ue(m,this.window.innerWidth,this.window.innerHeight,r,i,a,o);r=h.maxWidth,i=h.maxHeight,a=h.minWidth,o=h.minHeight;var g=this.calculateNewSizeFromDirection(s,c),_=g.newHeight,v=g.newWidth,y=this.calculateNewMaxFromBoundary(r,i);this.props.snap&&this.props.snap.x&&(v=J(v,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(_=J(_,this.props.snap.y,this.props.snapGap));var b=this.calculateNewSizeFromAspectRatio(v,_,{width:y.maxWidth,height:y.maxHeight},{width:a,height:o});if(v=b.newWidth,_=b.newHeight,this.props.grid){var x=G(v,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),S=G(_,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),C=this.props.snapGap||0,w=C===0||Math.abs(x-v)<=C?x:v,T=C===0||Math.abs(S-_)<=C?S:_;v=w,_=T}var E={width:v-d.width,height:_-d.height};if(this.delta=E,f&&typeof f==`string`){if(f.endsWith(`%`)){var D=v/m.width*100;v=`${D}%`}else if(f.endsWith(`vw`)){var O=v/this.window.innerWidth*100;v=`${O}vw`}else if(f.endsWith(`vh`)){var k=v/this.window.innerHeight*100;v=`${k}vh`}}if(p&&typeof p==`string`){if(p.endsWith(`%`)){var D=_/m.height*100;_=`${D}%`}else if(p.endsWith(`vw`)){var O=_/this.window.innerWidth*100;_=`${O}vw`}else if(p.endsWith(`vh`)){var k=_/this.window.innerHeight*100;_=`${k}vh`}}var A={width:this.createSizeForCssProperty(v,`width`),height:this.createSizeForCssProperty(_,`height`)};this.flexDir===`row`?A.flexBasis=A.width:this.flexDir===`column`&&(A.flexBasis=A.height);var j=this.state.width!==A.width,M=this.state.height!==A.height,N=this.state.flexBasis!==A.flexBasis,P=j||M||N;P&&(0,ie.flushSync)(function(){t.setState(A)}),this.props.onResize&&P&&this.props.onResize(e,u,this.resizable,E)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction;t.original,!(!n||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,this.delta),this.props.size&&this.setState({width:this.props.size.width??`auto`,height:this.props.size.height??`auto`}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:U(U({},this.state.backgroundStyle),{cursor:`auto`})}))},t.prototype.updateSize=function(e){this.setState({width:e.width??`auto`,height:e.height??`auto`})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,i=t.handleClasses,a=t.handleWrapperStyle,o=t.handleWrapperClass,s=t.handleComponent;return n?(0,L.jsx)(`div`,{className:o,style:a,children:Object.keys(n).map(function(t){return n[t]===!1?null:(0,L.jsx)(oe,{direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:i&&i[t],children:s&&s[t]?s[t]:null},t)})}):null},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce(function(t,n){return fe.indexOf(n)===-1&&(t[n]=e.props[n]),t},{}),n=U(U(U({position:`relative`,userSelect:this.state.isResizing?`none`:`auto`},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:`border-box`,flexShrink:0});return this.state.flexBasis&&(n.flexBasis=this.state.flexBasis),(0,L.jsxs)(this.props.as||`div`,U({style:n,className:this.props.className},t,{ref:function(t){t&&(e.resizable=t)},children:[this.state.isResizing&&(0,L.jsx)(`div`,{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},t.defaultProps={as:`div`,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(R.PureComponent),he=h(),Z=function(e,t){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Z(e,t)};function ge(e,t){Z(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Q=function(){return Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Q.apply(this,arguments)};function _e(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var ve={width:`auto`,height:`auto`,display:`inline-block`,position:`absolute`,top:0,left:0},ye=function(e){return{bottom:e,bottomLeft:e,bottomRight:e,left:e,right:e,top:e,topLeft:e,topRight:e}},be=function(e){ge(t,e);function t(t){var n=e.call(this,t)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,n=e.top,r=this.getDraggablePosition(),i=r.x,a=r.y;this.draggable.setState({x:i-t,y:a-n}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){return{maxWidth:this.props.maxWidth===void 0?2**53-1:this.props.maxWidth,maxHeight:this.props.maxHeight===void 0?2**53-1:this.props.maxHeight}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case`window`:return window.innerHeight/t;case`body`:return document.body.offsetHeight/t;default:return e.offsetHeight}},t.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case`window`:return window.innerWidth/t;case`body`:return document.body.offsetWidth/t;default:return e.offsetWidth}},t.prototype.onDragStart=function(e,t){if(this.props.onDragStart&&this.props.onDragStart(e,t),this.originalPosition=this.getDraggablePosition(),this.props.bounds){var n=this.getParent(),r=this.props.scale,i;if(this.props.bounds===`parent`)i=n;else if(this.props.bounds===`body`){var a=n.getBoundingClientRect(),o=a.left,s=a.top,c=document.body.getBoundingClientRect(),l=-(o-n.offsetLeft*r-c.left)/r,u=-(s-n.offsetTop*r-c.top)/r,d=(document.body.offsetWidth-this.resizable.size.width*r)/r+l,f=(document.body.offsetHeight-this.resizable.size.height*r)/r+u;return this.setState({bounds:{top:u,right:d,bottom:f,left:l}})}else if(this.props.bounds===`window`){if(!this.resizable)return;var p=n.getBoundingClientRect(),m=p.left,h=p.top,g=-(m-n.offsetLeft*r)/r,_=-(h-n.offsetTop*r)/r,d=(window.innerWidth-this.resizable.size.width*r)/r+g,f=(window.innerHeight-this.resizable.size.height*r)/r+_;return this.setState({bounds:{top:_,right:d,bottom:f,left:g}})}else typeof this.props.bounds==`string`?i=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(i=this.props.bounds);if(!(!(i instanceof HTMLElement)||!(n instanceof HTMLElement))){var v=i.getBoundingClientRect(),y=v.left,b=v.top,x=n.getBoundingClientRect(),S=x.left,C=x.top,w=(y-S)/r,T=b-C;if(this.resizable){this.updateOffsetFromParent();var E=this.offsetFromParent;this.setState({bounds:{top:T-E.top,right:w+(i.offsetWidth-this.resizable.size.width)-E.left/r,bottom:T+(i.offsetHeight-this.resizable.size.height)-E.top,left:w-E.left/r}})}}}},t.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.offsetFromParent,r=n.left,i=n.top;if(!this.props.dragAxis||this.props.dragAxis===`both`)return this.props.onDrag(e,Q(Q({},t),{x:t.x+r,y:t.y+i}));if(this.props.dragAxis===`x`)return this.props.onDrag(e,Q(Q({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis===`y`)return this.props.onDrag(e,Q(Q({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0}))}},t.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.offsetFromParent,r=n.left,i=n.top;if(!this.props.dragAxis||this.props.dragAxis===`both`)return this.props.onDragStop(e,Q(Q({},t),{x:t.x+r,y:t.y+i}));if(this.props.dragAxis===`x`)return this.props.onDragStop(e,Q(Q({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis===`y`)return this.props.onDragStop(e,Q(Q({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0}))}},t.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.setState({resizing:!0});var r=this.props.scale,i=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+i.left,y:a.y+i.top},this.originalPosition=a,this.props.bounds){var o=this.getParent(),s=void 0;this.props.bounds===`parent`?s=o:this.props.bounds===`body`?s=document.body:this.props.bounds===`window`?s=window:typeof this.props.bounds==`string`?s=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(s=this.props.bounds);var c=this.getSelfElement();if(c instanceof Element&&(s instanceof HTMLElement||s===window)&&o instanceof HTMLElement){var l=this.getMaxSizesFromProps(),u=l.maxWidth,d=l.maxHeight,f=this.getParentSize();if(u&&typeof u==`string`)if(u.endsWith(`%`)){var p=Number(u.replace(`%`,``))/100;u=f.width*p}else u.endsWith(`px`)&&(u=Number(u.replace(`px`,``)));if(d&&typeof d==`string`)if(d.endsWith(`%`)){var p=Number(d.replace(`%`,``))/100;d=f.height*p}else d.endsWith(`px`)&&(d=Number(d.replace(`px`,``)));var m=c.getBoundingClientRect(),h=m.left,g=m.top,_=this.props.bounds===`window`?{left:0,top:0}:s.getBoundingClientRect(),v=_.left,y=_.top,b=this.getOffsetWidth(s),x=this.getOffsetHeight(s),S=t.toLowerCase().endsWith(`left`),C=t.toLowerCase().endsWith(`right`),w=t.startsWith(`top`),T=t.startsWith(`bottom`);if((S||w)&&this.resizable){var E=(h-v)/r+this.resizable.size.width;this.setState({maxWidth:E>Number(u)?u:E})}if(C||this.props.lockAspectRatio&&!S&&!w){var E=b+(v-h)/r;this.setState({maxWidth:E>Number(u)?u:E})}if((w||S)&&this.resizable){var E=(g-y)/r+this.resizable.size.height;this.setState({maxHeight:E>Number(d)?d:E})}if(T||this.props.lockAspectRatio&&!w&&!S){var E=x+(y-g)/r;this.setState({maxHeight:E>Number(d)?d:E})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},t.prototype.onResize=function(e,t,n,r){var i=this,a={x:this.originalPosition.x,y:this.originalPosition.y},o=-r.width,s=-r.height;[`top`,`left`,`topLeft`,`bottomLeft`,`topRight`].includes(t)&&(t===`bottomLeft`?a.x+=o:(t===`topRight`||(a.x+=o),a.y+=s));var c=this.draggable.state;(a.x!==c.x||a.y!==c.y)&&(0,he.flushSync)(function(){i.draggable.setState(a)}),this.updateOffsetFromParent();var l=this.offsetFromParent,u=this.getDraggablePosition().x+l.left,d=this.getDraggablePosition().y+l.top;this.resizingPosition={x:u,y:d},this.props.onResize&&this.props.onResize(e,t,n,r,{x:u,y:d})},t.prototype.onResizeStop=function(e,t,n,r){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),a=i.maxWidth,o=i.maxHeight;this.setState({maxWidth:a,maxHeight:o}),this.props.onResizeStop&&this.props.onResizeStop(e,t,n,r,this.resizingPosition)},t.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},t.prototype.updatePosition=function(e){this.draggable.setState(e)},t.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||n===null)return{top:0,left:0};var r=t.getBoundingClientRect(),i=r.left,a=r.top,o=n.getBoundingClientRect(),s=this.getDraggablePosition(),c=t.scrollLeft,l=t.scrollTop;this.offsetFromParent={left:o.left-i+c-s.x*e,top:o.top-a+l-s.y*e}},t.prototype.render=function(){var e=this,t=this.props,n=t.disableDragging,r=t.style,i=t.dragHandleClassName,a=t.position,o=t.onMouseDown,s=t.onMouseUp,c=t.dragAxis,l=t.dragGrid,u=t.bounds,d=t.enableUserSelectHack,f=t.cancel,p=t.children;t.onResizeStart,t.onResize,t.onResizeStop,t.onDragStart,t.onDrag,t.onDragStop;var m=t.resizeHandleStyles,h=t.resizeHandleClasses,g=t.resizeHandleComponent,_=t.enableResizing,v=t.resizeGrid,y=t.resizeHandleWrapperClass,b=t.resizeHandleWrapperStyle,x=t.scale,S=t.allowAnyClick,C=t.dragPositionOffset,w=_e(t,`disableDragging.style.dragHandleClassName.position.onMouseDown.onMouseUp.dragAxis.dragGrid.bounds.enableUserSelectHack.cancel.children.onResizeStart.onResize.onResizeStop.onDragStart.onDrag.onDragStop.resizeHandleStyles.resizeHandleClasses.resizeHandleComponent.enableResizing.resizeGrid.resizeHandleWrapperClass.resizeHandleWrapperStyle.scale.allowAnyClick.dragPositionOffset`.split(`.`)),T=this.props.default?Q({},this.props.default):void 0;delete w.default;var E=n||i?{cursor:`auto`}:{cursor:`move`},D=Q(Q(Q({},ve),E),r),O=this.offsetFromParent,k=O.left,A=O.top,j;a&&(j={x:a.x-k,y:a.y-A});var M=this.state.resizing?void 0:j,N=this.state.resizing?`both`:c;return(0,R.createElement)(re.default,{ref:function(t){t&&(e.draggable=t)},handle:i?`.${i}`:void 0,defaultPosition:T,onMouseDown:o,onMouseUp:s,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:N,disabled:n,grid:l,bounds:u?this.state.bounds:void 0,position:M,enableUserSelectHack:d,cancel:f,scale:x,allowAnyClick:S,nodeRef:this.resizableElement,positionOffset:C},(0,R.createElement)(me,Q({},w,{ref:function(t){t&&(e.resizable=t,e.resizableElement.current=t.resizable)},defaultSize:T,size:this.props.size,enable:typeof _==`boolean`?ye(_):_,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:D,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:v,handleWrapperClass:y,handleWrapperStyle:b,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:m,handleClasses:h,handleComponent:g,scale:this.props.scale}),p))},t.defaultProps={maxWidth:2**53-1,maxHeight:2**53-1,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(R.PureComponent),xe=3.7795275591,$=210*xe,Se=297*xe,Ce=[{type:`LOGO`,label:`Company Logo`,defaultW:150,defaultH:80,icon:(0,L.jsx)(S,{size:16})},{type:`COMPANY_NAME`,label:`Company Name`,defaultW:200,defaultH:40,icon:(0,L.jsx)(w,{size:16})},{type:`COMPANY_DETAILS`,label:`Company Details`,defaultW:200,defaultH:60,icon:(0,L.jsx)(w,{size:16})},{type:`INVOICE_TITLE_LABEL`,label:`"INVOICE" Title`,defaultW:200,defaultH:60,icon:(0,L.jsx)(w,{size:16})},{type:`INVOICE_DETAILS`,label:`Invoice # / Date block`,defaultW:250,defaultH:80,icon:(0,L.jsx)(x,{size:16})},{type:`BILL_TO_LABEL`,label:`"Bill To" Label`,defaultW:200,defaultH:30,icon:(0,L.jsx)(w,{size:16})},{type:`CUSTOMER_DETAILS`,label:`Customer Details`,defaultW:250,defaultH:80,icon:(0,L.jsx)(C,{size:16})},{type:`ITEMS_TABLE`,label:`Items Table`,defaultW:700,defaultH:150,icon:(0,L.jsx)(n,{size:16})},{type:`TOTALS`,label:`Totals Block`,defaultW:300,defaultH:120,icon:(0,L.jsx)(t,{size:16})},{type:`NOTES_LABEL`,label:`"Terms & Notes" Label`,defaultW:200,defaultH:30,icon:(0,L.jsx)(w,{size:16})},{type:`NOTES_CONTENT`,label:`Notes Content`,defaultW:400,defaultH:80,icon:(0,L.jsx)(C,{size:16})},{type:`STATIC_TEXT`,label:`Custom Static Text`,defaultW:200,defaultH:40,icon:(0,L.jsx)(w,{size:16})},{type:`CUSTOM_ATTRIBUTES`,label:`Custom Attributes Grid`,defaultW:400,defaultH:80,icon:(0,L.jsx)(b,{size:16})}],we={invoiceData:{invoiceNumber:`INV-2024-001`,date:new Date().toLocaleDateString(),dueDate:new Date(Date.now()+10080*60*1e3).toLocaleDateString(),status:`PENDING`,customerName:`Acme Corp`,clientAddress:`123 Business Rd
Tech City`,gstNumber:`22AAAAA0000A1Z5`,notes:`Thank you for your business.`,items:[{description:`Web Dev`,quantity:1,price:1500,total:1500}],customAttributes:[{key:`PO Number`,value:`PO-998877`}]},companyConfig:{name:`Your Company Name`,address:`456 Startup Blvd`,email:`hello@yourcompany.com`,phone:`+1 (555) 123-4567`,website:`www.yourcompany.com`},taxRate:10,calculateSubtotal:()=>1500,tax:150,total:1650};function Te({value:e,onChange:t}){let[n,r]=(0,R.useState)(e||[]),[i,o]=(0,R.useState)(null);(0,R.useEffect)(()=>{t(n)},[n,t]),(0,R.useEffect)(()=>{let e=e=>{!e.target.closest(`.canvas-block`)&&!e.target.closest(`.sidebar-controls`)&&o(null)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},[]);let s=e=>{let t={id:`block_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:e.type,config:{x:50,y:50+n.length*20,width:e.defaultW,height:e.defaultH,text:e.label,fontSize:14,fontWeight:`normal`,textAlign:`left`,color:`#1e293b`}};r([...n,t]),o(t.id)},c=e=>{r(n.filter(t=>t.id!==e)),i===e&&o(null)},l=(e,t,n,i,a)=>{r(r=>r.map(r=>r.id===e?{...r,config:{...r.config,x:t===void 0?r.config.x:t,y:n===void 0?r.config.y:n,width:i===void 0?r.config.width:i,height:a===void 0?r.config.height:a}}:r))},u=(e,t,i)=>{r(n.map(n=>n.id===e?{...n,config:{...n.config,[t]:i}}:n))},f=n.find(e=>e.id===i);return(0,L.jsxs)(`div`,{className:`flex gap-6 h-[800px] border border-slate-200 rounded-xl overflow-hidden bg-slate-50 relative`,children:[(0,L.jsxs)(`div`,{className:`sidebar-controls w-64 bg-white border-r border-slate-200 p-4 flex flex-col shrink-0 z-10 shadow-sm relative`,children:[(0,L.jsx)(`h3`,{className:`font-bold text-slate-800 mb-4 text-sm uppercase tracking-wider`,children:`Drag Elements`}),(0,L.jsx)(`div`,{className:`space-y-2 flex-1 overflow-y-auto pr-2 custom-scrollbar`,children:Ce.map(e=>(0,L.jsxs)(`button`,{type:`button`,onClick:()=>s(e),className:`w-full flex items-center gap-3 p-3 text-sm text-slate-700 bg-slate-50 hover:bg-indigo-50 hover:text-indigo-700 border border-slate-200 rounded-lg transition-colors text-left`,children:[(0,L.jsx)(`span`,{className:`text-slate-400 group-hover:text-indigo-500`,children:e.icon}),e.label]},e.type))})]}),(0,L.jsx)(`div`,{className:`flex-1 overflow-auto bg-slate-200/50 p-8 flex justify-center items-start relative pb-32`,children:(0,L.jsxs)(`div`,{className:`bg-white shadow-xl relative ring-1 ring-slate-200 select-none overflow-hidden`,style:{width:`${$}px`,height:`${Se}px`,minHeight:`${Se}px`,minWidth:`${$}px`},children:[(0,L.jsx)(`div`,{className:`absolute inset-0 pointer-events-none opacity-[0.03] bg-[linear-gradient(to_right,#808080_1px,transparent_1px),linear-gradient(to_bottom,#808080_1px,transparent_1px)] bg-[size:10px_10px]`}),n.length===0&&(0,L.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center text-slate-400 pointer-events-none`,children:(0,L.jsx)(`p`,{children:`Click elements on the left to add them to the canvas.`})}),n.map(e=>(0,L.jsxs)(be,{className:`canvas-block group ${i===e.id?`ring-2 ring-indigo-500 z-50`:`hover:ring-1 hover:ring-slate-300 z-10`}`,bounds:`parent`,size:{width:e.config.width,height:e.config.height},position:{x:e.config.x,y:e.config.y},onDragStart:()=>o(e.id),onDragStop:(t,n)=>{l(e.id,n.x,n.y,void 0,void 0)},onResizeStart:()=>o(e.id),onResizeStop:(t,n,r,i,a)=>{l(e.id,a.x,a.y,parseInt(r.style.width,10),parseInt(r.style.height,10))},resizeHandleComponent:{bottomRight:(0,L.jsx)(`div`,{className:`w-3 h-3 bg-indigo-500 rounded-full border border-white translate-x-1.5 translate-y-1.5 ${i===e.id?`opacity-100`:`opacity-0`}`})},children:[(0,L.jsxs)(`div`,{className:`w-full h-full overflow-hidden`,onMouseDown:()=>o(e.id),children:[(0,L.jsx)(`div`,{className:`absolute inset-0 pointer-events-none`}),` `,y(e,we,{isDesigner:!0})]}),i===e.id&&(0,L.jsx)(`button`,{onMouseDown:t=>{t.stopPropagation(),c(e.id)},className:`absolute -top-3 -right-3 bg-red-500 text-white rounded-full p-1 shadow hover:bg-red-600 focus:outline-none`,children:(0,L.jsx)(d,{size:12})})]},e.id))]})}),f&&(0,L.jsxs)(`div`,{className:`sidebar-controls w-72 bg-white border-l border-slate-200 p-6 flex flex-col shrink-0 z-10 shadow-sm absolute right-0 top-0 bottom-0`,children:[(0,L.jsxs)(`div`,{className:`flex items-center gap-2 mb-6 border-b border-slate-100 pb-4`,children:[(0,L.jsx)(a,{size:18,className:`text-slate-400`}),(0,L.jsx)(`h3`,{className:`font-bold text-slate-800 text-sm`,children:`Properties`})]}),(0,L.jsxs)(`div`,{className:`space-y-4`,children:[(0,L.jsxs)(`div`,{className:`text-xs font-medium text-slate-400 uppercase tracking-wider mb-2`,children:[`Type: `,Ce.find(e=>e.type===f.type)?.label||f.type]}),[`STATIC_TEXT`,`INVOICE_TITLE_LABEL`,`BILL_TO_LABEL`,`NOTES_LABEL`].includes(f.type)&&(0,L.jsxs)(`div`,{children:[(0,L.jsx)(`label`,{className:`block text-xs text-slate-500 mb-1`,children:`Text Value`}),(0,L.jsx)(`input`,{type:`text`,className:`w-full p-2 border border-slate-200 rounded text-sm focus:ring-1 focus:ring-indigo-500 outline-none`,value:f.config.text||``,onChange:e=>u(f.id,`text`,e.target.value)})]}),(0,L.jsxs)(`div`,{children:[(0,L.jsx)(`label`,{className:`block text-xs text-slate-500 mb-1`,children:`Font Size (px)`}),(0,L.jsx)(`input`,{type:`number`,className:`w-full p-2 border border-slate-200 rounded text-sm focus:ring-1 focus:ring-indigo-500 outline-none`,value:f.config.fontSize||14,onChange:e=>u(f.id,`fontSize`,parseInt(e.target.value)||14)})]}),(0,L.jsxs)(`div`,{children:[(0,L.jsx)(`label`,{className:`block text-xs text-slate-500 mb-1`,children:`Font Weight`}),(0,L.jsxs)(`select`,{className:`w-full p-2 border border-slate-200 rounded text-sm focus:ring-1 focus:ring-indigo-500 outline-none`,value:f.config.fontWeight||`normal`,onChange:e=>u(f.id,`fontWeight`,e.target.value),children:[(0,L.jsx)(`option`,{value:`normal`,children:`Normal`}),(0,L.jsx)(`option`,{value:`medium`,children:`Medium`}),(0,L.jsx)(`option`,{value:`bold`,children:`Bold`}),(0,L.jsx)(`option`,{value:`900`,children:`Black/Heavy`})]})]}),(0,L.jsxs)(`div`,{children:[(0,L.jsx)(`label`,{className:`block text-xs text-slate-500 mb-1`,children:`Text Alignment`}),(0,L.jsx)(`div`,{className:`flex border border-slate-200 rounded overflow-hidden`,children:[`left`,`center`,`right`].map(e=>(0,L.jsx)(`button`,{onClick:()=>u(f.id,`textAlign`,e),className:`flex-1 py-1.5 text-xs font-medium capitalize border-r border-slate-200 last:border-0 ${f.config.textAlign===e?`bg-indigo-50 text-indigo-700`:`bg-white text-slate-600 hover:bg-slate-50`}`,children:e},e))})]}),(0,L.jsxs)(`div`,{children:[(0,L.jsx)(`label`,{className:`block text-xs text-slate-500 mb-1`,children:`Color`}),(0,L.jsx)(`input`,{type:`color`,className:`w-full h-8 cursor-pointer rounded border border-slate-200`,value:f.config.color||`#1e293b`,onChange:e=>u(f.id,`color`,e.target.value)})]}),(0,L.jsxs)(`div`,{className:`grid grid-cols-2 gap-2 mt-6 pt-4 border-t border-slate-100`,children:[(0,L.jsxs)(`div`,{children:[(0,L.jsx)(`label`,{className:`block text-[10px] text-slate-400 mb-1 uppercase`,children:`Width`}),(0,L.jsxs)(`div`,{className:`text-sm font-mono bg-slate-50 px-2 py-1 rounded border border-slate-200 text-slate-600`,children:[Math.round(f.config.width),`px`]})]}),(0,L.jsxs)(`div`,{children:[(0,L.jsx)(`label`,{className:`block text-[10px] text-slate-400 mb-1 uppercase`,children:`Height`}),(0,L.jsxs)(`div`,{className:`text-sm font-mono bg-slate-50 px-2 py-1 rounded border border-slate-200 text-slate-600`,children:[Math.round(f.config.height),`px`]})]})]})]})]})]})}function Ee(){let[t,a]=(0,R.useState)([]),[s,c]=(0,R.useState)(!0),[l,u]=(0,R.useState)(!1),[p,h]=(0,R.useState)(null),[g,_]=(0,R.useState)({name:``,type:`GLOBAL`,themeIdentifier:`classic`,taxRate:10,notes:``,layout:[]});(0,R.useEffect)(()=>{v()},[]);let v=async()=>{try{c(!0),a((await f.get(`/invoice-templates`)).data.filter(e=>e.type===`GLOBAL`))}catch(e){console.error(e),m.error(`Failed to load global templates`)}finally{c(!1)}},y=(e=null)=>{e?(h(e),_({name:e.name,type:`GLOBAL`,themeIdentifier:e.themeIdentifier||`classic`,taxRate:e.taxRate===void 0?10:e.taxRate,notes:e.notes||``,layout:e.layout||[]})):(h(null),_({name:``,type:`GLOBAL`,themeIdentifier:`classic`,taxRate:10,notes:``,layout:[]})),u(!0)},b=async e=>{e.preventDefault();try{p?(await f.patch(`/invoice-templates/${p._id}`,g),m.success(`Global template updated`)):(await f.post(`/invoice-templates`,g),m.success(`Global template created`)),u(!1),v()}catch(e){console.error(e),m.error(e.response?.data?.message||`Failed to save global template`)}},x=async e=>{if(window.confirm(`Are you sure you want to delete this global template? It will be removed for all companies.`))try{await f.delete(`/invoice-templates/${e}`),m.success(`Global template deleted`),v()}catch(e){console.error(e),m.error(`Failed to delete global template`)}};return(0,L.jsxs)(`div`,{className:`space-y-6`,children:[(0,L.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,L.jsxs)(`div`,{children:[(0,L.jsx)(`h1`,{className:`text-2xl font-bold text-slate-800`,children:`Global Invoice Templates`}),(0,L.jsx)(`p`,{className:`text-sm text-slate-500 mt-1`,children:`Manage standard layouts available to all companies.`})]}),(0,L.jsxs)(`button`,{onClick:()=>y(),className:`flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700`,children:[(0,L.jsx)(i,{size:18}),` New Global Template`]})]}),s?(0,L.jsx)(`div`,{className:`p-10 text-center text-slate-500 animate-pulse`,children:`Loading templates...`}):(0,L.jsx)(`div`,{className:`bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden`,children:(0,L.jsxs)(`table`,{className:`min-w-full divide-y divide-slate-200`,children:[(0,L.jsx)(`thead`,{className:`bg-slate-50 text-xs uppercase font-semibold text-slate-500`,children:(0,L.jsxs)(`tr`,{children:[(0,L.jsx)(`th`,{className:`px-6 py-4 text-left`,children:`Template Name`}),(0,L.jsx)(`th`,{className:`px-6 py-4 text-right`,children:`Actions`})]})}),(0,L.jsxs)(`tbody`,{className:`divide-y divide-slate-200`,children:[t.map(e=>(0,L.jsxs)(`tr`,{className:`hover:bg-slate-50`,children:[(0,L.jsx)(`td`,{className:`px-6 py-4 font-medium text-slate-800`,children:(0,L.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,L.jsx)(n,{size:16,className:`text-indigo-500`}),e.name]})}),(0,L.jsx)(`td`,{className:`px-6 py-4 text-right`,children:(0,L.jsxs)(`div`,{className:`flex justify-end gap-2`,children:[(0,L.jsx)(`button`,{onClick:()=>y(e),className:`p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded bg-white border border-slate-200`,title:`Edit Template`,children:(0,L.jsx)(r,{size:16})}),(0,L.jsx)(`button`,{onClick:()=>x(e._id),className:`p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded bg-white border border-slate-200`,title:`Delete Template`,children:(0,L.jsx)(o,{size:16})})]})})]},e._id)),t.length===0&&(0,L.jsx)(`tr`,{children:(0,L.jsx)(`td`,{colSpan:`2`,className:`px-6 py-12 text-center text-slate-500 bg-slate-50/50`,children:`No global templates found. Create one to provide defaults to companies.`})})]})]})}),l&&(0,L.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,L.jsxs)(`div`,{className:`bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden shadow-2xl flex flex-col`,children:[(0,L.jsxs)(`div`,{className:`px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50 shrink-0`,children:[(0,L.jsxs)(`h2`,{className:`text-lg font-bold text-slate-800 flex items-center gap-2`,children:[(0,L.jsx)(n,{size:20,className:`text-indigo-600`}),p?`Edit Global Template`:`New Global Template`]}),(0,L.jsx)(`button`,{onClick:()=>u(!1),className:`text-slate-400 hover:text-slate-600`,children:(0,L.jsx)(d,{size:20})})]}),(0,L.jsxs)(`form`,{onSubmit:b,className:`p-6 space-y-4 flex flex-col min-h-0 overflow-y-auto`,children:[(0,L.jsxs)(`div`,{children:[(0,L.jsx)(`label`,{className:`block text-sm font-medium text-slate-700 mb-1`,children:`Template Name`}),(0,L.jsx)(`input`,{type:`text`,required:!0,className:`w-full p-2 border border-slate-200 rounded-lg focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500`,placeholder:`e.g., Standard Service Invoice`,value:g.name,onChange:e=>_({...g,name:e.target.value})})]}),(0,L.jsxs)(`div`,{className:`mt-8 border-t border-slate-200 pt-6 flex-1 min-h-[500px]`,children:[(0,L.jsxs)(`h3`,{className:`text-lg font-bold text-slate-800 mb-4 flex items-center gap-2`,children:[(0,L.jsx)(n,{size:20,className:`text-indigo-600`}),`Invoice Layout Builder`]}),(0,L.jsx)(`p`,{className:`text-sm text-slate-500 mb-6`,children:`Drag and drop blocks to design the structure of this invoice template. Companies will only see the blocks you include.`}),(0,L.jsx)(Te,{value:g.layout,onChange:e=>_({...g,layout:e})})]}),(0,L.jsxs)(`div`,{className:`pt-4 border-t border-slate-100 flex justify-end gap-3 mt-6 shrink-0`,children:[(0,L.jsx)(`button`,{type:`button`,onClick:()=>u(!1),className:`px-4 py-2 text-sm font-medium text-slate-600 bg-white border border-slate-200 rounded-lg hover:bg-slate-50`,children:`Cancel`}),(0,L.jsxs)(`button`,{type:`submit`,className:`flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700`,children:[(0,L.jsx)(e,{size:16}),` Save Template`]})]})]})]})})]})}export{Ee as default};