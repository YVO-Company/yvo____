import{m as e,r as t,t as n,w as r,y as i}from"./index-FG9feFxU.js";var a=r(i(),1),o=t(),s=`mt-2 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 placeholder:text-slate-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500`,c=`flex-1 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 placeholder:text-slate-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500`;function l(){let t=e(),[r,i]=(0,a.useState)(`phone`),[l,u]=(0,a.useState)(``),[d,f]=(0,a.useState)(``),[p,m]=(0,a.useState)(`+91`),[h,g]=(0,a.useState)(``),[_,v]=(0,a.useState)(``),[y,b]=(0,a.useState)(!0),[x,S]=(0,a.useState)(!1),[C,w]=(0,a.useState)(!1),[T,E]=(0,a.useState)(``),{login:D,loginEmployee:O}=n(),k=r===`email`?l&&d:h&&_;return(0,o.jsxs)(`div`,{className:`min-h-screen bg-slate-50 text-slate-700`,children:[(0,o.jsx)(`header`,{className:`border-b border-slate-200 bg-white`,children:(0,o.jsxs)(`div`,{className:`mx-auto flex w-full max-w-6xl items-center gap-3 px-6 py-4`,children:[(0,o.jsx)(`div`,{className:`flex h-10 w-10 items-center justify-center rounded-lg bg-blue-600 text-lg font-semibold text-white shadow`,children:`Yo`}),(0,o.jsx)(`span`,{className:`text-lg font-semibold text-blue-700`,children:`YVO`})]})}),(0,o.jsx)(`main`,{className:`mx-auto flex w-full max-w-6xl flex-1 flex-col items-center px-6 py-16`,children:(0,o.jsxs)(`div`,{className:`w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-sm`,children:[(0,o.jsxs)(`div`,{className:`space-y-2 text-center`,children:[(0,o.jsx)(`h1`,{className:`text-2xl font-semibold text-slate-900`,children:r===`phone`?`Employee Login`:`Admin Login`}),(0,o.jsx)(`p`,{className:`text-sm text-slate-500`,children:`Sign in to your account`})]}),T&&(0,o.jsx)(`div`,{className:`mt-5 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700`,children:T}),(0,o.jsxs)(`form`,{className:`space-y-4 mt-6`,onSubmit:async e=>{e.preventDefault(),E(``),w(!0),console.log(`Submitting Login:`,r);try{if(r===`phone`){console.log(`Attempting Employee Login...`,p+h),await O(p+h,_),console.log(`Employee Login Success, Navigating...`),t(`/employee-dashboard`,{replace:!0});return}console.log(`Attempting Admin Login...`,l);let e=await D(l,d);if(e.isSuperAdmin||e.role===`SUPER_ADMIN`)throw Error(`Invalid email or password`);console.log(`Admin Login Success, Navigating...`),t(`/dashboard`,{replace:!0})}catch(e){console.error(`Login Error:`,e),E(e?.response?.data?.message||e.message||`Something went wrong`)}finally{w(!1)}},children:[r===`email`?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(`input`,{value:l,onChange:e=>u(e.target.value),type:`email`,placeholder:`Email`,className:s}),(0,o.jsx)(`input`,{value:d,onChange:e=>f(e.target.value),type:x?`text`:`password`,placeholder:`Password`,className:s})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(`div`,{className:`flex gap-2`,children:[(0,o.jsxs)(`select`,{value:p,onChange:e=>m(e.target.value),className:`w-28 rounded-lg border border-slate-200 px-2 py-2`,children:[(0,o.jsx)(`option`,{value:`+91`,children:`+91`}),(0,o.jsx)(`option`,{value:`+1`,children:`+1`})]}),(0,o.jsx)(`input`,{value:h,onChange:e=>g(e.target.value),placeholder:`Phone`,className:c})]}),(0,o.jsx)(`input`,{value:_,onChange:e=>v(e.target.value),type:x?`text`:`password`,placeholder:`Password`,className:s})]}),(0,o.jsx)(`button`,{type:`submit`,disabled:!k,className:`w-full rounded-lg px-3 py-2 text-sm font-semibold text-white ${k?`bg-blue-600`:`bg-slate-300`}`,children:C?`Logging in...`:`Login`})]})]})})]})}export{l as default};