import{t as e}from"./clock-p49MgRWf.js";import{t}from"./dollar-sign-Dpwxw7ZW.js";import{t as n}from"./eye-Cwh_TdE9.js";import{t as r}from"./funnel-c-HQwwNE.js";import{t as i}from"./pen-dMJlaISN.js";import{t as a}from"./plus-CEMkcid2.js";import{t as o}from"./search-7QJDYU_6.js";import{t as s}from"./trash-2-Eo-Zwxxt.js";import{t as c}from"./user-CxNvStxo.js";import{c as l,i as u,n as d,o as f,r as p,w as m,y as h}from"./index-FG9feFxU.js";var g=l(`briefcase`,[[`path`,{d:`M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16`,key:`jecpp`}],[`rect`,{width:`20`,height:`14`,x:`2`,y:`6`,rx:`2`,key:`i6l2r4`}]]),_=l(`user-check`,[[`path`,{d:`m16 11 2 2 4-4`,key:`9rsbq5`}],[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),v=m(h(),1),y=p();function b({employee:n,onClose:r}){let[i,a]=(0,v.useState)(`overview`),[o,s]=(0,v.useState)([]),[l,f]=(0,v.useState)({pending:0,approved:0,rejected:0,total:0}),[p,m]=(0,v.useState)([]),[h,_]=(0,v.useState)(!0);(0,v.useEffect)(()=>{n?._id&&b()},[n]);let b=async()=>{try{_(!0);let e=localStorage.getItem(`companyId`);s((await d.get(`/employees/salary-records`,{params:{companyId:e,employeeId:n._id}})).data.map((e,t)=>{let n=e.bonus||0,r=e.deductionAmount||0,i=e.amount-e.baseSalary+r,a=n===0&&i>0?i:n;return{id:e._id,month:e.payPeriod,basic:e.baseSalary,bonus:a,deductions:r,net:e.amount,status:e.status}}));let t=(await d.get(`/employees/leaves`,{params:{companyId:e,employeeId:n._id}})).data,r=t.filter(e=>e.status===`Pending`).length,i=t.filter(e=>e.status===`Approved`).length,a=t.filter(e=>e.status===`Rejected`).length;f({pending:r,approved:i,rejected:a,total:n.freeLeavesPerMonth*12});let o=new Date;o.setHours(0,0,0,0),m(t.filter(e=>new Date(e.startDate)>=o&&(e.status===`Approved`||e.status===`Pending`)).sort((e,t)=>new Date(e.startDate)-new Date(t.startDate)).slice(0,3))}catch(e){console.error(`Failed to fetch details`,e)}finally{_(!1)}};return n?(0,y.jsx)(`div`,{className:`fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200`,children:(0,y.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-xl w-full max-w-4xl overflow-hidden flex flex-col max-h-[90vh]`,children:[(0,y.jsxs)(`div`,{className:`p-6 border-b border-slate-100 flex justify-between items-start bg-slate-50/50`,children:[(0,y.jsxs)(`div`,{className:`flex gap-4`,children:[(0,y.jsxs)(`div`,{className:`w-16 h-16 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-2xl shadow-inner`,children:[n.firstName?.[0],n.lastName?.[0]]}),(0,y.jsxs)(`div`,{children:[(0,y.jsxs)(`h2`,{className:`text-2xl font-bold text-slate-900`,children:[n.firstName,` `,n.lastName]}),(0,y.jsxs)(`div`,{className:`flex items-center gap-2 text-slate-500 text-sm mt-1`,children:[(0,y.jsx)(g,{size:14}),(0,y.jsx)(`span`,{children:n.position}),(0,y.jsx)(`span`,{className:`w-1 h-1 bg-slate-300 rounded-full`}),(0,y.jsx)(`span`,{children:n.department||`No Department`})]}),(0,y.jsxs)(`div`,{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-bold mt-2 ${employee.status === 'Active' ? 'bg-green-100 text-green-700' : 'bg-slate-100 text-slate-600'}",children:[(0,y.jsx)(`span`,{className:"w-1.5 h-1.5 rounded-full ${employee.status === 'Active' ? 'bg-green-500' : 'bg-slate-400'}"}),n.status]})]})]}),(0,y.jsx)(`button`,{onClick:r,className:`p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition`,children:(0,y.jsx)(u,{size:24})})]}),(0,y.jsxs)(`div`,{className:`flex border-b border-slate-100 px-6 overflow-x-auto no-scrollbar`,children:[(0,y.jsx)(`button`,{onClick:()=>a(`overview`),className:`px-4 py-3 text-sm font-bold border-b-2 transition-colors whitespace-nowrap ${i===`overview`?`border-brand text-brand`:`border-transparent text-slate-500 hover:text-slate-700`}`,children:`Overview`}),(0,y.jsx)(`button`,{onClick:()=>a(`payroll`),className:`px-4 py-3 text-sm font-bold border-b-2 transition-colors whitespace-nowrap ${i===`payroll`?`border-brand text-brand`:`border-transparent text-slate-500 hover:text-slate-700`}`,children:`Payroll History`}),(0,y.jsx)(`button`,{onClick:()=>a(`leaves`),className:`px-4 py-3 text-sm font-bold border-b-2 transition-colors whitespace-nowrap ${i===`leaves`?`border-brand text-brand`:`border-transparent text-slate-500 hover:text-slate-700`}`,children:`Leave Status`})]}),(0,y.jsx)(`div`,{className:`p-6 overflow-y-auto flex-1 bg-slate-50/30`,children:h?(0,y.jsx)(`div`,{className:`h-40 flex items-center justify-center text-slate-400`,children:`Loading details...`}):(0,y.jsxs)(y.Fragment,{children:[i===`overview`&&(0,y.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,y.jsxs)(`div`,{className:`space-y-6`,children:[(0,y.jsxs)(`div`,{className:`bg-white p-5 rounded-xl border border-slate-200 shadow-sm`,children:[(0,y.jsxs)(`h3`,{className:`text-sm font-bold text-slate-900 mb-4 uppercase tracking-wider flex items-center gap-2`,children:[(0,y.jsx)(c,{size:16,className:`text-brand`}),` Personal Information`]}),(0,y.jsxs)(`div`,{className:`space-y-4`,children:[(0,y.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 text-sm`,children:[(0,y.jsx)(`span`,{className:`text-slate-500`,children:`Email`}),(0,y.jsx)(`span`,{className:`col-span-2 font-medium text-slate-900 break-all`,children:n.email})]}),(0,y.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 text-sm`,children:[(0,y.jsx)(`span`,{className:`text-slate-500`,children:`Phone`}),(0,y.jsx)(`span`,{className:`col-span-2 font-medium text-slate-900`,children:n.phone})]}),(0,y.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 text-sm`,children:[(0,y.jsx)(`span`,{className:`text-slate-500`,children:`Joined`}),(0,y.jsx)(`span`,{className:`col-span-2 font-medium text-slate-900`,children:new Date(n.dateHired||Date.now()).toLocaleDateString()})]})]})]}),(0,y.jsxs)(`div`,{className:`bg-white p-5 rounded-xl border border-slate-200 shadow-sm`,children:[(0,y.jsxs)(`h3`,{className:`text-sm font-bold text-slate-900 mb-4 uppercase tracking-wider flex items-center gap-2`,children:[(0,y.jsx)(g,{size:16,className:`text-brand`}),` Job Details`]}),(0,y.jsxs)(`div`,{className:`space-y-4`,children:[(0,y.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 text-sm`,children:[(0,y.jsx)(`span`,{className:`text-slate-500`,children:`Category`}),(0,y.jsx)(`span`,{className:`col-span-2 font-medium text-slate-900`,children:n.category})]}),(0,y.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 text-sm`,children:[(0,y.jsx)(`span`,{className:`text-slate-500`,children:`Work Days`}),(0,y.jsxs)(`span`,{className:`col-span-2 font-medium text-slate-900`,children:[n.workingDaysPerWeek,` days/week`]})]})]})]})]}),(0,y.jsx)(`div`,{className:`space-y-6`,children:(0,y.jsxs)(`div`,{className:`bg-white p-5 rounded-xl border border-slate-200 shadow-sm`,children:[(0,y.jsxs)(`h3`,{className:`text-sm font-bold text-slate-900 mb-4 uppercase tracking-wider flex items-center gap-2`,children:[(0,y.jsx)(t,{size:16,className:`text-brand`}),` Compensation`]}),(0,y.jsxs)(`div`,{className:`p-4 bg-green-50 rounded-lg border border-green-100 flex items-center justify-between mb-4`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`p`,{className:`text-xs text-green-600 font-bold uppercase`,children:`Annual Salary`}),(0,y.jsxs)(`p`,{className:`text-2xl font-black text-green-700`,children:[`₹`,n.salary?.toLocaleString()]})]}),(0,y.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-green-200 flex items-center justify-center text-green-700`,children:(0,y.jsx)(t,{size:20})})]}),(0,y.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,y.jsxs)(`div`,{className:`p-3 bg-slate-50 rounded-lg border border-slate-100`,children:[(0,y.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:`Monthly (Approx)`}),(0,y.jsxs)(`p`,{className:`font-bold text-slate-800`,children:[`₹`,Math.round(n.salary/12).toLocaleString()]})]}),(0,y.jsxs)(`div`,{className:`p-3 bg-slate-50 rounded-lg border border-slate-100`,children:[(0,y.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:`Hourly (Est)`}),(0,y.jsxs)(`p`,{className:`font-bold text-slate-800`,children:[`₹`,Math.round(n.salary/(264*8)).toLocaleString()]})]})]})]})})]}),i===`payroll`&&(0,y.jsxs)(`div`,{className:`space-y-4`,children:[(0,y.jsx)(`div`,{className:`overflow-x-auto rounded-xl border border-slate-200 shadow-sm`,children:(0,y.jsxs)(`table`,{className:`w-full text-sm text-left`,children:[(0,y.jsx)(`thead`,{className:`bg-slate-50 text-slate-500 font-bold uppercase text-xs`,children:(0,y.jsxs)(`tr`,{children:[(0,y.jsx)(`th`,{className:`px-4 py-3 whitespace-nowrap`,children:`Month`}),(0,y.jsx)(`th`,{className:`px-4 py-3 whitespace-nowrap`,children:`Basic`}),(0,y.jsx)(`th`,{className:`px-4 py-3 whitespace-nowrap`,children:`Bonus`}),(0,y.jsx)(`th`,{className:`px-4 py-3 whitespace-nowrap`,children:`Deductions`}),(0,y.jsx)(`th`,{className:`px-4 py-3 whitespace-nowrap`,children:`Net Pay`}),(0,y.jsx)(`th`,{className:`px-4 py-3 whitespace-nowrap`,children:`Status`})]})}),(0,y.jsx)(`tbody`,{className:`divide-y divide-slate-100 bg-white`,children:o.map(e=>(0,y.jsxs)(`tr`,{className:`hover:bg-slate-50`,children:[(0,y.jsx)(`td`,{className:`px-4 py-3 font-medium text-slate-900 whitespace-nowrap`,children:e.month}),(0,y.jsxs)(`td`,{className:`px-4 py-3 text-slate-600 whitespace-nowrap`,children:[`₹`,e.basic.toLocaleString()]}),(0,y.jsxs)(`td`,{className:`px-4 py-3 text-green-600 whitespace-nowrap`,children:[`+₹`,e.bonus.toLocaleString()]}),(0,y.jsxs)(`td`,{className:`px-4 py-3 text-red-600 whitespace-nowrap`,children:[`-₹`,e.deductions.toLocaleString()]}),(0,y.jsxs)(`td`,{className:`px-4 py-3 font-bold text-slate-900 whitespace-nowrap`,children:[`₹`,e.net.toLocaleString()]}),(0,y.jsx)(`td`,{className:`px-4 py-3 whitespace-nowrap`,children:(0,y.jsx)(`span`,{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700`,children:e.status})})]},e.id))})]})}),o.length===0&&(0,y.jsx)(`p`,{className:`text-center text-slate-400 py-10`,children:`No payroll history found.`})]}),i===`leaves`&&(0,y.jsxs)(`div`,{className:`space-y-6`,children:[(0,y.jsxs)(`div`,{className:`grid grid-cols-2 md:grid-cols-4 gap-4`,children:[(0,y.jsxs)(`div`,{className:`bg-white p-4 rounded-xl border border-slate-200 shadow-sm text-center`,children:[(0,y.jsx)(`p`,{className:`text-xs text-slate-400 font-bold uppercase`,children:`Total Allowance`}),(0,y.jsxs)(`p`,{className:`text-2xl font-black text-slate-800 mt-1`,children:[n.freeLeavesPerMonth*12,`/yr`]})]}),(0,y.jsxs)(`div`,{className:`bg-white p-4 rounded-xl border border-slate-200 shadow-sm text-center`,children:[(0,y.jsx)(`p`,{className:`text-xs text-green-500 font-bold uppercase`,children:`Approved`}),(0,y.jsx)(`p`,{className:`text-2xl font-black text-green-700 mt-1`,children:l.approved})]}),(0,y.jsxs)(`div`,{className:`bg-white p-4 rounded-xl border border-slate-200 shadow-sm text-center`,children:[(0,y.jsx)(`p`,{className:`text-xs text-amber-500 font-bold uppercase`,children:`Pending`}),(0,y.jsx)(`p`,{className:`text-2xl font-black text-amber-700 mt-1`,children:l.pending})]}),(0,y.jsxs)(`div`,{className:`bg-white p-4 rounded-xl border border-slate-200 shadow-sm text-center`,children:[(0,y.jsx)(`p`,{className:`text-xs text-red-400 font-bold uppercase`,children:`Rejected`}),(0,y.jsx)(`p`,{className:`text-2xl font-black text-red-700 mt-1`,children:l.rejected})]})]}),(0,y.jsxs)(`div`,{className:`bg-blue-50 p-4 rounded-xl border border-blue-100`,children:[(0,y.jsxs)(`div`,{className:`flex items-center gap-3 mb-3`,children:[(0,y.jsx)(`div`,{className:`p-2 bg-blue-100 rounded-lg text-blue-600`,children:(0,y.jsx)(e,{size:20})}),(0,y.jsx)(`h4`,{className:`font-bold text-blue-900`,children:`Upcoming Leaves`})]}),p.length>0?(0,y.jsx)(`div`,{className:`space-y-3`,children:p.map(e=>(0,y.jsxs)(`div`,{className:`bg-white p-3 rounded-lg border border-blue-100 shadow-sm flex justify-between items-center`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`p`,{className:`font-bold text-slate-800 text-sm`,children:e.type}),(0,y.jsxs)(`p`,{className:`text-xs text-slate-500`,children:[new Date(e.startDate).toLocaleDateString(),` - `,new Date(e.endDate).toLocaleDateString()]})]}),(0,y.jsx)(`span`,{className:`text-xs px-2 py-1 rounded-full font-bold \${
                                                            leave.status === 'Approved' ? 'bg-green-100 text-green-700' : 'bg-amber-100 text-amber-700'
                                                        }`,children:e.status})]},e._id))}):(0,y.jsx)(`p`,{className:`text-sm text-blue-700`,children:`No upcoming leaves scheduled.`})]})]})]})}),(0,y.jsx)(`div`,{className:`p-4 border-t border-slate-100 bg-slate-50/50 flex justify-end`,children:(0,y.jsx)(`button`,{onClick:r,className:`px-6 py-2 bg-white border border-slate-200 text-slate-700 font-bold rounded-xl hover:bg-slate-50 transition shadow-sm`,children:`Close`})})]})}):null}function x(){let[e,t]=(0,v.useState)(``),[c,l]=(0,v.useState)([]),[p,m]=(0,v.useState)(!0),[h,x]=(0,v.useState)(!1),[S,C]=(0,v.useState)(!1),[w,T]=(0,v.useState)(null),[E,D]=(0,v.useState)(null),[O,k]=(0,v.useState)(!1),[A,j]=(0,v.useState)({firstName:``,lastName:``,email:``,phone:``,password:``,position:``,department:``,salary:``,status:`Active`,category:`General`,freeLeavesPerMonth:1,workingDaysPerWeek:6});(0,v.useEffect)(()=>{M()},[O]);let M=async()=>{try{m(!0);let e=localStorage.getItem(`companyId`);l((await d.get(`/employees`,{params:{companyId:e,isDeleted:O}})).data)}catch(e){console.error(`Failed to fetch employees`,e)}finally{m(!1)}},N=()=>{j({firstName:``,lastName:``,email:``,phone:``,password:``,position:``,department:``,salary:``,status:`Active`,category:`General`,freeLeavesPerMonth:1,workingDaysPerWeek:6}),C(!1),T(null)},P=()=>{N(),x(!0)},F=e=>{j({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,password:``,position:e.position,department:e.department||``,salary:e.salary,status:e.status,category:e.category||`General`,freeLeavesPerMonth:e.freeLeavesPerMonth===void 0?1:e.freeLeavesPerMonth,workingDaysPerWeek:e.workingDaysPerWeek||6}),C(!0),T(e._id),x(!0)},I=async e=>{e.preventDefault();try{let e=localStorage.getItem(`companyId`);if(S){let e={...A};e.password||delete e.password,await d.put(`/employees/${w}`,e)}else await d.post(`/employees`,{...A,companyId:e});x(!1),N(),M()}catch(e){console.error(e),alert(e.response?.data?.message||`Failed to save employee`)}},L=async e=>{if(window.confirm(`Are you sure you want to delete this employee?`))try{await d.delete(`/employees/${e}`),l(c.filter(t=>t._id!==e))}catch(e){console.error(`Failed to delete employee`,e),alert(`Failed to delete employee`)}},R=async e=>{if(window.confirm(`Restore this employee?`))try{await d.patch(`/employees/${e}/restore`),M()}catch(e){console.error(`Failed to restore`,e),alert(e.response?.data?.message||`Failed to restore employee`)}};return p?(0,y.jsx)(`div`,{className:`p-10 text-center`,children:`Loading employees...`}):(0,y.jsxs)(`div`,{className:`space-y-6`,children:[(0,y.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-start md:items-center gap-4`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`h1`,{className:`text-2xl font-bold text-slate-800`,children:`Employee Management`}),(0,y.jsx)(`p`,{className:`text-sm text-slate-500 mt-1`,children:`Manage your team, roles, and payroll information.`})]}),(0,y.jsxs)(`button`,{onClick:P,className:`flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 shadow-sm transition-all active:scale-95`,children:[(0,y.jsx)(a,{size:18}),` Add Employee`]})]}),(0,y.jsxs)(`div`,{className:`bg-white rounded-xl border border-slate-200 p-4 flex flex-col md:flex-row gap-4 justify-between`,children:[(0,y.jsxs)(`div`,{className:`relative flex-1 md:max-w-md`,children:[(0,y.jsx)(o,{className:`absolute left-3 top-2.5 h-4 w-4 text-slate-400`}),(0,y.jsx)(`input`,{type:`text`,placeholder:`Search by name, email, or role...`,value:e,onChange:e=>t(e.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500`})]}),(0,y.jsxs)(`div`,{className:`flex gap-2`,children:[(0,y.jsxs)(`button`,{onClick:()=>k(!O),className:`flex items-center gap-2 px-3 py-2 border rounded-lg text-sm font-medium transition ${O?`bg-slate-800 text-white border-slate-800`:`bg-white text-slate-600 border-slate-200 hover:bg-slate-50`}`,children:[(0,y.jsx)(s,{size:16}),` `,O?`Show Active`:`Trash`]}),(0,y.jsxs)(`button`,{className:`flex items-center gap-2 px-3 py-2 border border-slate-200 rounded-lg bg-white text-sm font-medium text-slate-600 hover:bg-slate-50`,children:[(0,y.jsx)(r,{size:16}),` Filter`]})]})]}),(0,y.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`,children:c.filter(t=>t.firstName.toLowerCase().includes(e.toLowerCase())||t.lastName.toLowerCase().includes(e.toLowerCase())||t.position.toLowerCase().includes(e.toLowerCase())).map(e=>(0,y.jsxs)(`div`,{className:`bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-shadow`,children:[(0,y.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,y.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,y.jsxs)(`div`,{className:`w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-lg`,children:[e.firstName[0],e.lastName[0]]}),(0,y.jsxs)(`div`,{children:[(0,y.jsxs)(`h3`,{className:`font-semibold text-slate-900`,children:[e.firstName,` `,e.lastName]}),(0,y.jsx)(`p`,{className:`text-xs text-slate-500`,children:e.position})]})]}),(0,y.jsx)(`span`,{className:`px-2 py-1 rounded-full text-xs font-medium ${e.status===`Active`?`bg-green-100 text-green-700`:`bg-gray-100 text-gray-700`}`,children:e.status})]}),(0,y.jsxs)(`div`,{className:`mt-6 space-y-3`,children:[(0,y.jsxs)(`div`,{className:`flex items-center gap-2 text-sm text-slate-600`,children:[(0,y.jsx)(f,{size:16,className:`text-slate-400`}),e.email]}),(0,y.jsxs)(`div`,{className:`flex items-center gap-2 text-sm text-slate-600`,children:[(0,y.jsx)(g,{size:16,className:`text-slate-400`}),e.department||`No Department`]}),(0,y.jsxs)(`div`,{className:`flex items-center gap-2 text-sm text-slate-600`,children:[(0,y.jsx)(_,{size:16,className:`text-slate-400`}),`Hired: `,new Date(e.dateHired).toLocaleDateString()]})]}),(0,y.jsxs)(`div`,{className:`mt-6 pt-4 border-t border-slate-100 flex justify-between items-center`,children:[(0,y.jsxs)(`span`,{className:`text-sm font-semibold text-slate-900`,children:[`₹`,e.salary?.toLocaleString(),`/yr`]}),(0,y.jsxs)(`div`,{className:`flex gap-2`,children:[(0,y.jsx)(`button`,{onClick:()=>D(e),className:`p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors`,title:`View Details`,children:(0,y.jsx)(n,{size:18})}),O?(0,y.jsx)(`button`,{onClick:()=>R(e._id),className:`text-xs font-bold text-indigo-600 px-3 py-1 bg-indigo-50 rounded-lg hover:bg-indigo-100`,children:`Restore`}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(`button`,{onClick:()=>L(e._id),className:`p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-colors`,title:`Delete Employee`,children:(0,y.jsx)(s,{size:18})}),(0,y.jsx)(`button`,{onClick:()=>F(e),className:`p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-full transition-colors`,title:`Edit Employee`,children:(0,y.jsx)(i,{size:18})})]})]})]})]},e._id))}),h&&(0,y.jsx)(`div`,{className:`fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4`,children:(0,y.jsxs)(`div`,{className:`bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200`,children:[(0,y.jsxs)(`div`,{className:`flex justify-between items-center p-4 border-b border-slate-100 bg-slate-50/50`,children:[(0,y.jsx)(`h2`,{className:`text-xl font-bold text-slate-800`,children:S?`Edit Employee`:`Add New Employee`}),(0,y.jsx)(`button`,{onClick:()=>x(!1),className:`text-slate-400 hover:text-slate-600`,children:(0,y.jsx)(u,{size:20})})]}),(0,y.jsxs)(`form`,{onSubmit:I,className:`p-6 space-y-4`,children:[(0,y.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`label`,{className:`text-xs font-semibold text-slate-500 mb-1 block`,children:`First Name`}),(0,y.jsx)(`input`,{required:!0,className:`w-full border border-slate-200 p-2 rounded-lg`,value:A.firstName,onChange:e=>j({...A,firstName:e.target.value})})]}),(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`label`,{className:`text-xs font-semibold text-slate-500 mb-1 block`,children:`Last Name`}),(0,y.jsx)(`input`,{required:!0,className:`w-full border border-slate-200 p-2 rounded-lg`,value:A.lastName,onChange:e=>j({...A,lastName:e.target.value})})]})]}),(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`label`,{className:`text-xs font-semibold text-slate-500 mb-1 block`,children:`Email`}),(0,y.jsx)(`input`,{required:!0,type:`email`,className:`w-full border border-slate-200 p-2 rounded-lg`,value:A.email,onChange:e=>j({...A,email:e.target.value})})]}),(0,y.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`label`,{className:`text-xs font-semibold text-slate-500 mb-1 block`,children:`Phone (Login ID)`}),(0,y.jsx)(`input`,{required:!0,className:`w-full border border-slate-200 p-2 rounded-lg`,value:A.phone,onChange:e=>j({...A,phone:e.target.value})})]}),(0,y.jsxs)(`div`,{children:[(0,y.jsxs)(`label`,{className:`text-xs font-semibold text-slate-500 mb-1 block`,children:[`Password `,S&&`(Leave blank to keep)`]}),(0,y.jsx)(`input`,{type:`password`,className:`w-full border border-slate-200 p-2 rounded-lg`,value:A.password,onChange:e=>j({...A,password:e.target.value}),required:!S})]})]}),(0,y.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`label`,{className:`text-xs font-semibold text-slate-500 mb-1 block`,children:`Category`}),(0,y.jsxs)(`select`,{className:`w-full border border-slate-200 p-2 rounded-lg bg-white`,value:A.category,onChange:e=>j({...A,category:e.target.value}),children:[(0,y.jsx)(`option`,{value:`General`,children:`General`}),(0,y.jsx)(`option`,{value:`Sales`,children:`Sales`}),(0,y.jsx)(`option`,{value:`Dev`,children:`Dev`}),(0,y.jsx)(`option`,{value:`Management`,children:`Management`})]})]}),(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`label`,{className:`text-xs font-semibold text-slate-500 mb-1 block`,children:`Status`}),(0,y.jsxs)(`select`,{className:`w-full border border-slate-200 p-2 rounded-lg bg-white`,value:A.status,onChange:e=>j({...A,status:e.target.value}),children:[(0,y.jsx)(`option`,{value:`Active`,children:`Active`}),(0,y.jsx)(`option`,{value:`On Leave`,children:`On Leave`}),(0,y.jsx)(`option`,{value:`Terminated`,children:`Terminated`})]})]})]}),(0,y.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`label`,{className:`text-xs font-semibold text-slate-500 mb-1 block`,children:`Position`}),(0,y.jsx)(`input`,{required:!0,className:`w-full border border-slate-200 p-2 rounded-lg`,value:A.position,onChange:e=>j({...A,position:e.target.value})})]}),(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`label`,{className:`text-xs font-semibold text-slate-500 mb-1 block`,children:`Department`}),(0,y.jsx)(`input`,{className:`w-full border border-slate-200 p-2 rounded-lg`,value:A.department,onChange:e=>j({...A,department:e.target.value})})]})]}),(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`label`,{className:`text-xs font-semibold text-slate-500 mb-1 block`,children:`Annual Salary (₹)`}),(0,y.jsx)(`input`,{required:!0,type:`number`,className:`w-full border border-slate-200 p-2 rounded-lg`,value:A.salary,onChange:e=>j({...A,salary:e.target.value})}),S&&(0,y.jsx)(`p`,{className:`text-xs text-slate-400 mt-1`,children:`Changes to salary will be recorded in history.`})]}),(0,y.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`label`,{className:`text-xs font-semibold text-slate-500 mb-1 block`,children:`Monthly Free Leaves`}),(0,y.jsx)(`input`,{required:!0,type:`number`,min:`0`,className:`w-full border border-slate-200 p-2 rounded-lg`,value:A.freeLeavesPerMonth,onChange:e=>j({...A,freeLeavesPerMonth:e.target.value})})]}),(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`label`,{className:`text-xs font-semibold text-slate-500 mb-1 block`,children:`Working Days / Week`}),(0,y.jsxs)(`select`,{className:`w-full border border-slate-200 p-2 rounded-lg bg-white`,value:A.workingDaysPerWeek,onChange:e=>j({...A,workingDaysPerWeek:Number(e.target.value)}),children:[(0,y.jsx)(`option`,{value:4,children:`4 Days`}),(0,y.jsx)(`option`,{value:5,children:`5 Days`}),(0,y.jsx)(`option`,{value:6,children:`6 Days`}),(0,y.jsx)(`option`,{value:7,children:`7 Days`})]})]})]}),(0,y.jsxs)(`div`,{className:`flex justify-end gap-2 mt-6 pt-4 border-t border-slate-100`,children:[(0,y.jsx)(`button`,{type:`button`,onClick:()=>x(!1),className:`px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg text-sm font-medium`,children:`Cancel`}),(0,y.jsx)(`button`,{type:`submit`,className:`px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium shadow-sm transition-all active:scale-95`,children:S?`Update Employee`:`Create Employee`})]})]})]})}),E&&(0,y.jsx)(b,{employee:E,onClose:()=>D(null)})]})}export{x as default};