import{r as e,w as t,y as n}from"./index-FG9feFxU.js";n();var r=e(),i=3.7795275591,a=210*i,o=297*i;const s=(e,t,n={})=>{let{invoiceData:i,companyConfig:a,taxRate:o,calculateSubtotal:s,tax:c,total:l}=t,{fontSize:u=14,fontWeight:d=`normal`,textAlign:f=`left`,color:p=`#1e293b`,text:m=``}=e.config||{},h={fontSize:`${u}px`,fontWeight:d,textAlign:f,color:p,width:`100%`,height:`100%`,display:`flex`,flexDirection:`column`};switch(e.type){case`STATIC_TEXT`:case`INVOICE_TITLE_LABEL`:case`BILL_TO_LABEL`:case`NOTES_LABEL`:return(0,r.jsx)(`div`,{style:h,children:m});case`COMPANY_NAME`:return(0,r.jsx)(`div`,{style:h,children:a?.name||`Your Company Name`});case`COMPANY_DETAILS`:return(0,r.jsxs)(`div`,{style:h,children:[a?.address||`Your Business Address`,(0,r.jsx)(`br`,{}),a?.email&&(0,r.jsxs)(r.Fragment,{children:[a.email,(0,r.jsx)(`br`,{})]}),a?.phone&&(0,r.jsxs)(r.Fragment,{children:[a.phone,(0,r.jsx)(`br`,{})]}),a?.website&&(0,r.jsx)(r.Fragment,{children:a.website})]});case`CUSTOMER_DETAILS`:return(0,r.jsxs)(`div`,{style:h,children:[(0,r.jsx)(`div`,{style:{fontWeight:`bold`},children:i.customerName||`Customer Name`}),(0,r.jsx)(`div`,{style:{whiteSpace:`pre-wrap`},children:i.clientAddress||`Client Address...`}),i.gstNumber&&(0,r.jsxs)(`div`,{style:{marginTop:`8px`},children:[(0,r.jsx)(`span`,{style:{fontWeight:`600`},children:`GSTIN: `}),i.gstNumber]})]});case`INVOICE_DETAILS`:return(0,r.jsxs)(`div`,{style:h,children:[(0,r.jsxs)(`div`,{className:`flex justify-between items-center mb-1`,children:[(0,r.jsx)(`span`,{className:`font-bold uppercase opacity-80 text-[0.8em]`,children:`Invoice #`}),(0,r.jsx)(`span`,{children:i.invoiceNumber})]}),(0,r.jsxs)(`div`,{className:`flex justify-between items-center mb-1`,children:[(0,r.jsx)(`span`,{className:`font-bold uppercase opacity-80 text-[0.8em]`,children:`Date`}),(0,r.jsx)(`span`,{children:i.date})]}),i.dueDate&&(0,r.jsxs)(`div`,{className:`flex justify-between items-center mb-1`,children:[(0,r.jsx)(`span`,{className:`font-bold uppercase opacity-80 text-[0.8em]`,children:`Due Date`}),(0,r.jsx)(`span`,{children:i.dueDate})]}),(0,r.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,r.jsx)(`span`,{className:`font-bold uppercase opacity-80 text-[0.8em]`,children:`Status`}),(0,r.jsx)(`span`,{className:`px-2 py-0.5 rounded text-[0.85em] font-bold ${i.status===`PAID`?`bg-green-100 text-green-700`:`bg-amber-100 text-amber-700`}`,children:i.status})]})]});case`LOGO`:return(0,r.jsx)(`div`,{style:{...h,display:`flex`,alignItems:f===`center`?`center`:f===`right`?`flex-end`:`flex-start`,justifyContent:`center`},children:a?.logo?(0,r.jsx)(`img`,{src:a.logo,alt:`Logo`,style:{maxWidth:`100%`,maxHeight:`100%`,objectFit:`contain`}}):(0,r.jsx)(`div`,{className:`w-full h-full bg-slate-100 flex items-center justify-center text-slate-400 text-xs rounded border border-slate-200`,children:`No Logo`})});case`ITEMS_TABLE`:return(0,r.jsx)(`div`,{style:{...h,overflow:`visible`},children:(0,r.jsxs)(`table`,{className:`w-full`,children:[(0,r.jsx)(`thead`,{children:(0,r.jsxs)(`tr`,{className:`bg-slate-800 text-white`,children:[(0,r.jsx)(`th`,{className:`py-2 px-3 text-left font-semibold text-sm`,children:`Item Description`}),(0,r.jsx)(`th`,{className:`py-2 px-3 text-center font-semibold text-sm w-20`,children:`Qty`}),(0,r.jsx)(`th`,{className:`py-2 px-3 text-right font-semibold text-sm w-28`,children:`Price`}),(0,r.jsx)(`th`,{className:`py-2 px-3 text-right font-semibold text-sm w-32`,children:`Total`})]})}),(0,r.jsx)(`tbody`,{className:`divide-y divide-slate-100 bg-white`,children:i.items.map((e,t)=>(0,r.jsxs)(`tr`,{className:`border-b border-slate-100`,children:[(0,r.jsx)(`td`,{className:`py-3 px-3 text-sm font-medium`,children:e.description||`Item description`}),(0,r.jsx)(`td`,{className:`py-3 px-3 text-sm text-center`,children:e.quantity}),(0,r.jsxs)(`td`,{className:`py-3 px-3 text-sm text-right`,children:[`₹`,e.price.toFixed(2)]}),(0,r.jsxs)(`td`,{className:`py-3 px-3 text-sm text-right font-bold`,children:[`₹`,e.total.toFixed(2)]})]},t))})]})});case`TOTALS`:return(0,r.jsx)(`div`,{style:{...h,justifyContent:`flex-start`},children:(0,r.jsxs)(`div`,{className:`bg-slate-50 p-4 rounded border border-slate-100 flex flex-col gap-2`,children:[(0,r.jsxs)(`div`,{className:`flex justify-between text-sm`,children:[(0,r.jsx)(`span`,{className:`opacity-80`,children:`Subtotal`}),(0,r.jsxs)(`span`,{className:`font-semibold`,children:[`₹`,s().toFixed(2)]})]}),(0,r.jsxs)(`div`,{className:`flex justify-between text-sm`,children:[(0,r.jsxs)(`span`,{className:`opacity-80`,children:[`Tax (`,o,`%)`]}),(0,r.jsxs)(`span`,{children:[`₹`,c.toFixed(2)]})]}),(0,r.jsx)(`div`,{className:`h-px bg-slate-200 my-1`}),(0,r.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,r.jsx)(`span`,{className:`font-bold`,children:`Grand Total`}),(0,r.jsxs)(`span`,{className:`text-lg font-bold`,children:[`₹`,l.toFixed(2)]})]})]})});case`NOTES_CONTENT`:return(0,r.jsx)(`div`,{style:{...h,whiteSpace:`pre-wrap`},children:i.notes||`Thank you for your business! Payment is expected by the due date.`});case`CUSTOM_ATTRIBUTES`:return(0,r.jsx)(`div`,{style:{...h},className:`grid grid-cols-2 gap-3`,children:i.customAttributes&&i.customAttributes.length>0?i.customAttributes.map((e,t)=>(0,r.jsxs)(`div`,{className:`flex flex-col bg-slate-50 p-2 rounded border border-slate-100`,children:[(0,r.jsx)(`span`,{className:`text-[0.7rem] font-bold uppercase opacity-70 tracking-wider`,children:e.key}),(0,r.jsx)(`span`,{className:`text-sm font-medium break-all`,children:e.value})]},t)):(0,r.jsx)(`div`,{className:`col-span-2 text-sm opacity-50 border border-dashed border-slate-200 p-2 rounded text-center`,children:`No Custom Attributes Added Yet`})});case`HEADER_BLOCK`:return(0,r.jsxs)(`div`,{className:`flex flex-col gap-4 mb-4 w-full`,children:[a?.logo?(0,r.jsx)(`img`,{src:a.logo,alt:`Company Logo`,className:`h-16 object-contain w-full max-w-[150px] object-left`}):(0,r.jsx)(`div`,{className:`h-16 w-32 bg-slate-100 flex items-center justify-center text-slate-400 text-xs rounded border border-slate-200`,children:`No Logo`}),(0,r.jsxs)(`div`,{children:[(0,r.jsx)(`h2`,{className:`text-xl font-bold text-slate-900`,children:a?.name||`Your Company Name`}),(0,r.jsxs)(`div`,{className:`text-sm text-slate-500 mt-1`,children:[a?.address,(0,r.jsx)(`br`,{}),a?.phone]})]})]},e.id);case`INVOICE_TITLE`:return(0,r.jsxs)(`div`,{className:`mb-4 w-full text-right`,children:[(0,r.jsx)(`h1`,{className:`text-3xl font-black text-slate-200 tracking-tighter mb-2 uppercase`,children:`INVOICE`}),(0,r.jsxs)(`div`,{className:`inline-block text-left bg-slate-50 border border-slate-100 p-3 rounded min-w-[180px] ml-auto`,children:[(0,r.jsxs)(`div`,{className:`flex justify-between items-center mb-1 text-sm`,children:[(0,r.jsx)(`span`,{className:`font-bold text-slate-400`,children:`Invoice #`}),(0,r.jsx)(`span`,{className:`font-bold`,children:i.invoiceNumber})]}),(0,r.jsxs)(`div`,{className:`flex justify-between items-center text-sm`,children:[(0,r.jsx)(`span`,{className:`font-bold text-slate-400`,children:`Date`}),(0,r.jsx)(`span`,{children:i.date})]})]})]},e.id);case`BILL_TO_BLOCK`:return(0,r.jsx)(`div`,{className:`flex gap-8 mb-4 py-4 w-full bg-slate-50/50`,children:(0,r.jsxs)(`div`,{className:`flex-1`,children:[(0,r.jsx)(`span`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1`,children:`Bill To`}),(0,r.jsx)(`h3`,{className:`font-bold text-slate-800`,children:i.customerName||`Customer Name`}),(0,r.jsx)(`p`,{className:`text-sm text-slate-500 mt-1 whitespace-pre-wrap`,children:i.clientAddress})]})},e.id);case`NOTES_BLOCK`:return(0,r.jsxs)(`div`,{className:`mt-4 pt-4 border-t border-slate-200 w-full`,children:[(0,r.jsx)(`h4`,{className:`font-bold text-slate-800 text-sm mb-2`,children:`Terms & Notes`}),(0,r.jsx)(`p`,{className:`text-sm text-slate-500 whitespace-pre-wrap`,children:i.notes||`Thank you for your business!`})]},e.id);case`TOTALS_BLOCK`:return(0,r.jsx)(`div`,{className:`mt-4 border-t border-slate-200 pt-4 w-full flex justify-end`,children:(0,r.jsxs)(`div`,{className:`w-1/2 min-w-[250px] bg-slate-50 p-4 rounded ml-auto`,children:[(0,r.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,r.jsx)(`span`,{className:`text-sm text-slate-500`,children:`Subtotal`}),(0,r.jsxs)(`span`,{className:`font-medium text-slate-800`,children:[`₹`,s().toFixed(2)]})]}),(0,r.jsxs)(`div`,{className:`flex justify-between items-center mb-3`,children:[(0,r.jsxs)(`span`,{className:`text-sm text-slate-500`,children:[`Tax (`,o,`%)`]}),(0,r.jsxs)(`span`,{className:`font-medium text-slate-800`,children:[`₹`,c.toFixed(2)]})]}),(0,r.jsx)(`div`,{className:`h-px bg-slate-200 my-2`}),(0,r.jsxs)(`div`,{className:`flex justify-between items-center text-lg`,children:[(0,r.jsx)(`span`,{className:`font-bold text-slate-800`,children:`Total`}),(0,r.jsxs)(`span`,{className:`font-black text-slate-900`,children:[`₹`,l.toFixed(2)]})]})]})},e.id);case`CUSTOM_TEXT`:return(0,r.jsx)(`div`,{className:`my-2 w-full`,children:(0,r.jsx)(`p`,{className:`text-sm text-slate-700 whitespace-pre-wrap`,children:e.config?.text||`Custom Text`})},e.id);default:return(0,r.jsxs)(`div`,{style:{...h,border:`1px solid red`,color:`red`},children:[`Unknown: `,e.type]})}};function c({layout:e,invoiceData:t,companyConfig:n,taxRate:i,calculateSubtotal:c,tax:l,total:u}){let d=e&&e.length>0?e:[],f={invoiceData:t,companyConfig:n,taxRate:i,calculateSubtotal:c,tax:l,total:u};return(0,r.jsxs)(`div`,{className:`bg-white shadow-lg relative text-slate-900 print:shadow-none print:w-[210mm] print:h-[297mm] overflow-hidden`,style:{width:`${a}px`,height:`${o}px`},children:[(0,r.jsx)(`div`,{className:`h-4 w-full bg-indigo-900 absolute top-0 left-0`}),d.map(e=>(0,r.jsx)(`div`,{style:{position:`absolute`,left:`${e.config.x}px`,top:`${e.config.y}px`,width:`${e.config.width}px`,height:`${e.config.height}px`},children:s(e,f,{isDesigner:!1})},e.id))]})}export{s as n,c as t};